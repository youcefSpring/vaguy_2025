import{r as u,k as j,j as e}from"./app-lUInwgRy.js";import{D as b}from"./DashboardLayout-Drlw7XGl.js";import{F as g,a as S,b as N}from"./FormInput-DB9DkBcD.js";import{z as x}from"./index-dIKOytT1.js";import{u as y}from"./form-DTWdmFFU.js";import{C as v,b as F,c as w,a as C}from"./card-DFZvYdxo.js";import{D}from"./DashboardNavigation-D3-SRcFT.js";import{I}from"./input-C7csDmVJ.js";import{B as h}from"./button-DzDbuX-O.js";import{S as E,a as k,b as T,c as B,d as P}from"./sheet-BB4HANrJ.js";import{S as V,a as H}from"./scroll-area-Cz3DdDO6.js";import{S as L}from"./separator-CTdIgbxY.js";import{E as R}from"./eye-D-efa7vg.js";/* empty css            */import"./tooltip-T2okiHGF.js";import"./utils-Cx_fVcGQ.js";import"./index-DcmApiEi.js";import"./createLucideIcon-BKiTtyiR.js";import"./index-DeDYDX0v.js";import"./index-x9bG2h8o.js";import"./index-DHkfiFuj.js";import"./index-CWdjyrzl.js";import"./index-CbDD-pNU.js";import"./index-DGf6IaJB.js";import"./index-DNiOst2b.js";import"./chevron-right-DaGFS2bX.js";import"./avatar-IUyYeUaq.js";import"./consts-CgVw4MgC.js";import"./translations-DtJK5JUl.js";import"./instagram-DDsg64cs.js";import"./mail-DP18s0oF.js";import"./label-BGTeFzqh.js";import"./dashboardNavigation-BRq9JMAK.js";import"./index-B_8yjaaa.js";import"./x-D5Njf_z9.js";import"./index-BEk9yI-S.js";const U="/build/assets/emptyPic-C__m0ynk.svg",_=x.object({username:x.string()}),q={username:""},f={username:{description:"Username for scrapping.",placeholder:"Username"}},z=r=>{const[i,l]=u.useState(!1),[n,a]=u.useState(null),{handleSubmit:c,rhfForm:t,inertiaForm:o}=y({schema:_,defaultValues:q});function s(d,O){l(!0),j.post("https://crm.vaguy.app/api/scrub/fetch",{username:d.username,token:r}).then(({data:m})=>{l(!1),console.log(m),a(m.items)}).catch(m=>{l(!1),console.error("Error fetching Instagram data:",m)}).finally(()=>{l(!1)})}return{onSubmit:s,handleSubmit:c,rhfForm:t,inertiaForm:o,dataSetter:d=>{o.setData(d)},items:n,loading:i}},Ce=({token:r})=>{console.log(r);const{handleSubmit:i,inertiaForm:l,onSubmit:n,rhfForm:a,dataSetter:c,items:t,loading:o}=z(r);return e.jsx(b,{title:"Scrubing",children:e.jsxs("div",{className:"w-full h-full py-8",children:[e.jsxs("div",{className:"w-full mb-12",dir:"ltr",children:[e.jsx("h1",{className:"mb-4 text-4xl font-semibold ",children:" Scrapping"}),e.jsx(D,{})]}),e.jsxs(v,{className:"my-12",children:[e.jsx(F,{children:e.jsx(w,{children:"Scrap Instagram user info :"})}),e.jsx(C,{children:e.jsx(g,{...a,children:e.jsxs("form",{onSubmit:i(n),className:"flex flex-col w-full space-y-4",children:[e.jsx(S,{name:"username",control:a.control,render:({field:s})=>e.jsx(N,{label:f.username.description,className:"w-full mb-6",children:e.jsx(I,{...s,onChange:p=>{s.onChange(p.target.value),c(a.getValues())},required:!0,placeholder:""+f.username.placeholder})})}),e.jsxs(E,{children:[e.jsx(k,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(h,{type:"submit",className:"w-full",disabled:!a.getValues().username,children:"Scrap Profile Instagram"}),e.jsx(h,{type:"button",variant:"outline",className:"border-primary text-primary",disabled:!t,children:e.jsx(R,{className:"w-4 h-4"})})]})}),e.jsxs(T,{className:"p-0 min-w-[500px]",children:[e.jsx(B,{className:"p-6",children:e.jsx(P,{children:"RÃ©sultat du scrapping"})}),e.jsxs(V,{className:"h-[100vh] p-6",children:[e.jsx("div",{className:"flex flex-col justify-start w-full gap-2 pb-12 ",children:o?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 ",children:[e.jsx("div",{className:"w-3 h-3 bg-[#6366F1] rounded-full inline-block animate-bounce "}),e.jsx("div",{className:"w-3 h-3 bg-[#6366F1] rounded-full inline-block  animate-bounce delay-150"}),e.jsx("div",{className:"w-3 h-3 bg-[#6366F1] rounded-full inline-block animate-bounce delay-300"})]})},"1"):t?Object.keys(t).map(s=>(console.log(s),e.jsx(A,{title:s,data:String(t[s])||""}))):e.jsxs("div",{className:"mt-12",children:[e.jsx("img",{src:U,alt:"empty "}),e.jsx("h1",{className:"mt-6 text-2xl font-bold text-center text-primary",children:"Empty"})]})}),e.jsx(H,{orientation:"vertical"})]})]})]})]})})})]})]})})},A=({data:r,title:i})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between w-full min-w-[200px] gap-6 ",children:[e.jsx("h3",{className:"text-base",children:i}),e.jsx("p",{className:"font-semibold",children:r})]}),e.jsx(L,{className:"my-2"})]});export{Ce as default};
