import{r,j as l,$ as b,y as D}from"./app-lUInwgRy.js";import{I as B}from"./input-C7csDmVJ.js";import{a as P,_ as x,c as A}from"./utils-Cx_fVcGQ.js";import{$ as j,b as Pe}from"./index-DeDYDX0v.js";import{b as S,a as N,$ as W,c as oe}from"./index-DHkfiFuj.js";import{a as re,c as ne,C as je,$ as Se,b as De}from"./index-DcmApiEi.js";import{$ as R}from"./index-CbDD-pNU.js";import{L as I}from"./label-BGTeFzqh.js";import{$ as ae}from"./index-x9bG2h8o.js";import Me from"./ServiceItem-BEMcqs9R.js";import{$ as ce,a as Oe,b as Ve,C as Fe}from"./index-DNiOst2b.js";import{g as Le,s as M}from"./localstorage-CJtMg3ae.js";import{B as Ge}from"./button-DzDbuX-O.js";/* empty css            */import"./createLucideIcon-BKiTtyiR.js";import"./card-DFZvYdxo.js";import"./avatar-IUyYeUaq.js";import"./money-CnQH2c1S.js";import"./consts-CgVw4MgC.js";const se="Checkbox",[Te,io]=j(se),[qe,Be]=Te(se),He=r.forwardRef((t,a)=>{const{__scopeCheckbox:o,name:n,checked:s,defaultChecked:e,required:i,disabled:c,value:d="on",onCheckedChange:f,...p}=t,[u,h]=r.useState(null),$=P(a,m=>h(m)),g=r.useRef(!1),v=u?!!u.closest("form"):!0,[C=!1,E]=S({prop:s,defaultProp:e,onChange:f}),w=r.useRef(C);return r.useEffect(()=>{const m=u==null?void 0:u.form;if(m){const _=()=>E(w.current);return m.addEventListener("reset",_),()=>m.removeEventListener("reset",_)}},[u,E]),r.createElement(qe,{scope:o,state:C,disabled:c},r.createElement(R.button,x({type:"button",role:"checkbox","aria-checked":y(C)?"mixed":C,"aria-required":i,"data-state":ie(C),"data-disabled":c?"":void 0,disabled:c,value:d},p,{ref:$,onKeyDown:N(t.onKeyDown,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:N(t.onClick,m=>{E(_=>y(_)?!0:!_),v&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})})),v&&r.createElement(ze,{control:u,bubbles:!g.current,name:n,value:d,checked:C,required:i,disabled:c,style:{transform:"translateX(-100%)"}}))}),Ke="CheckboxIndicator",Ue=r.forwardRef((t,a)=>{const{__scopeCheckbox:o,forceMount:n,...s}=t,e=Be(Ke,o);return r.createElement(W,{present:n||y(e.state)||e.state===!0},r.createElement(R.span,x({"data-state":ie(e.state),"data-disabled":e.disabled?"":void 0},s,{ref:a,style:{pointerEvents:"none",...t.style}})))}),ze=t=>{const{control:a,checked:o,bubbles:n=!0,...s}=t,e=r.useRef(null),i=re(o),c=ne(a);return r.useEffect(()=>{const d=e.current,f=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(f,"checked").set;if(i!==o&&u){const h=new Event("click",{bubbles:n});d.indeterminate=y(o),u.call(d,y(o)?!1:o),d.dispatchEvent(h)}},[i,o,n]),r.createElement("input",x({type:"checkbox","aria-hidden":!0,defaultChecked:y(o)?!1:o},s,{tabIndex:-1,ref:e,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(t){return t==="indeterminate"}function ie(t){return y(t)?"indeterminate":t?"checked":"unchecked"}const le=He,Xe=Ue,de=r.forwardRef(({className:t,...a},o)=>l.jsx(le,{ref:o,className:A("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:l.jsx(Xe,{className:A("flex items-center justify-center text-current"),children:l.jsx(je,{className:"w-4 h-4"})})}));de.displayName=le.displayName;const fe="Collapsible",[We,ue]=j(fe),[Ye,Y]=We(fe),Je=r.forwardRef((t,a)=>{const{__scopeCollapsible:o,open:n,defaultOpen:s,disabled:e,onOpenChange:i,...c}=t,[d=!1,f]=S({prop:n,defaultProp:s,onChange:i});return r.createElement(Ye,{scope:o,disabled:e,contentId:oe(),open:d,onOpenToggle:r.useCallback(()=>f(p=>!p),[f])},r.createElement(R.div,x({"data-state":J(d),"data-disabled":e?"":void 0},c,{ref:a})))}),Qe="CollapsibleTrigger",Ze=r.forwardRef((t,a)=>{const{__scopeCollapsible:o,...n}=t,s=Y(Qe,o);return r.createElement(R.button,x({type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":J(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled},n,{ref:a,onClick:N(t.onClick,s.onOpenToggle)}))}),pe="CollapsibleContent",et=r.forwardRef((t,a)=>{const{forceMount:o,...n}=t,s=Y(pe,t.__scopeCollapsible);return r.createElement(W,{present:o||s.open},({present:e})=>r.createElement(tt,x({},n,{ref:a,present:e})))}),tt=r.forwardRef((t,a)=>{const{__scopeCollapsible:o,present:n,children:s,...e}=t,i=Y(pe,o),[c,d]=r.useState(n),f=r.useRef(null),p=P(a,f),u=r.useRef(0),h=u.current,$=r.useRef(0),g=$.current,v=i.open||c,C=r.useRef(v),E=r.useRef();return r.useEffect(()=>{const w=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(w)},[]),Pe(()=>{const w=f.current;if(w){E.current=E.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const m=w.getBoundingClientRect();u.current=m.height,$.current=m.width,C.current||(w.style.transitionDuration=E.current.transitionDuration,w.style.animationName=E.current.animationName),d(n)}},[i.open,n]),r.createElement(R.div,x({"data-state":J(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!v},e,{ref:p,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style}}),v&&s)});function J(t){return t?"open":"closed"}const ot=Je,rt=Ze,nt=et,k="Accordion",at=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Q,ct,st]=Se(k),[O,lo]=j(k,[st,ue]),Z=ue(),be=b.forwardRef((t,a)=>{const{type:o,...n}=t,s=n,e=n;return b.createElement(Q.Provider,{scope:t.__scopeAccordion},o==="multiple"?b.createElement(ft,x({},e,{ref:a})):b.createElement(dt,x({},s,{ref:a})))});be.propTypes={type(t){const a=t.value||t.defaultValue;return t.type&&!["single","multiple"].includes(t.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):t.type==="multiple"&&typeof a=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):t.type==="single"&&Array.isArray(a)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[$e,it]=O(k),[me,lt]=O(k,{collapsible:!1}),dt=b.forwardRef((t,a)=>{const{value:o,defaultValue:n,onValueChange:s=()=>{},collapsible:e=!1,...i}=t,[c,d]=S({prop:o,defaultProp:n,onChange:s});return b.createElement($e,{scope:t.__scopeAccordion,value:c?[c]:[],onItemOpen:d,onItemClose:b.useCallback(()=>e&&d(""),[e,d])},b.createElement(me,{scope:t.__scopeAccordion,collapsible:e},b.createElement(xe,x({},i,{ref:a}))))}),ft=b.forwardRef((t,a)=>{const{value:o,defaultValue:n,onValueChange:s=()=>{},...e}=t,[i=[],c]=S({prop:o,defaultProp:n,onChange:s}),d=b.useCallback(p=>c((u=[])=>[...u,p]),[c]),f=b.useCallback(p=>c((u=[])=>u.filter(h=>h!==p)),[c]);return b.createElement($e,{scope:t.__scopeAccordion,value:i,onItemOpen:d,onItemClose:f},b.createElement(me,{scope:t.__scopeAccordion,collapsible:!0},b.createElement(xe,x({},e,{ref:a}))))}),[ut,V]=O(k),xe=b.forwardRef((t,a)=>{const{__scopeAccordion:o,disabled:n,dir:s,orientation:e="vertical",...i}=t,c=b.useRef(null),d=P(c,a),f=ct(o),u=ae(s)==="ltr",h=N(t.onKeyDown,$=>{var g;if(!at.includes($.key))return;const v=$.target,C=f().filter(T=>{var q;return!((q=T.ref.current)!==null&&q!==void 0&&q.disabled)}),E=C.findIndex(T=>T.ref.current===v),w=C.length;if(E===-1)return;$.preventDefault();let m=E;const _=0,F=w-1,L=()=>{m=E+1,m>F&&(m=_)},G=()=>{m=E-1,m<_&&(m=F)};switch($.key){case"Home":m=_;break;case"End":m=F;break;case"ArrowRight":e==="horizontal"&&(u?L():G());break;case"ArrowDown":e==="vertical"&&L();break;case"ArrowLeft":e==="horizontal"&&(u?G():L());break;case"ArrowUp":e==="vertical"&&G();break}const Ie=m%w;(g=C[Ie].ref.current)===null||g===void 0||g.focus()});return b.createElement(ut,{scope:o,disabled:n,direction:s,orientation:e},b.createElement(Q.Slot,{scope:o},b.createElement(R.div,x({},i,{"data-orientation":e,ref:d,onKeyDown:n?void 0:h}))))}),H="AccordionItem",[pt,ee]=O(H),bt=b.forwardRef((t,a)=>{const{__scopeAccordion:o,value:n,...s}=t,e=V(H,o),i=it(H,o),c=Z(o),d=oe(),f=n&&i.value.includes(n)||!1,p=e.disabled||t.disabled;return b.createElement(pt,{scope:o,open:f,disabled:p,triggerId:d},b.createElement(ot,x({"data-orientation":e.orientation,"data-state":he(f)},c,s,{ref:a,disabled:p,open:f,onOpenChange:u=>{u?i.onItemOpen(n):i.onItemClose(n)}})))}),$t="AccordionHeader",mt=b.forwardRef((t,a)=>{const{__scopeAccordion:o,...n}=t,s=V(k,o),e=ee($t,o);return b.createElement(R.h3,x({"data-orientation":s.orientation,"data-state":he(e.open),"data-disabled":e.disabled?"":void 0},n,{ref:a}))}),te="AccordionTrigger",xt=b.forwardRef((t,a)=>{const{__scopeAccordion:o,...n}=t,s=V(k,o),e=ee(te,o),i=lt(te,o),c=Z(o);return b.createElement(Q.ItemSlot,{scope:o},b.createElement(rt,x({"aria-disabled":e.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:e.triggerId},c,n,{ref:a})))}),ht="AccordionContent",gt=b.forwardRef((t,a)=>{const{__scopeAccordion:o,...n}=t,s=V(k,o),e=ee(ht,o),i=Z(o);return b.createElement(nt,x({role:"region","aria-labelledby":e.triggerId,"data-orientation":s.orientation},i,n,{ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}}))});function he(t){return t?"open":"closed"}const vt=be,Ct=bt,wt=mt,ge=xt,ve=gt,Et=vt,K=r.forwardRef(({className:t,...a},o)=>l.jsx(Ct,{ref:o,className:A("border-b",t),...a}));K.displayName="AccordionItem";const U=r.forwardRef(({className:t,children:a,...o},n)=>l.jsx(wt,{className:"flex",children:l.jsxs(ge,{ref:n,className:A("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...o,children:[a,l.jsx(De,{className:"w-4 h-4 transition-transform duration-200 shrink-0"})]})}));U.displayName=ge.displayName;const z=r.forwardRef(({className:t,children:a,...o},n)=>l.jsx(ve,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:l.jsx("div",{className:A("pb-4 pt-0",t),children:a})}));z.displayName=ve.displayName;const Ce="Radio",[Rt,we]=j(Ce),[_t,kt]=Rt(Ce),yt=r.forwardRef((t,a)=>{const{__scopeRadio:o,name:n,checked:s=!1,required:e,disabled:i,value:c="on",onCheck:d,...f}=t,[p,u]=r.useState(null),h=P(a,v=>u(v)),$=r.useRef(!1),g=p?!!p.closest("form"):!0;return r.createElement(_t,{scope:o,checked:s,disabled:i},r.createElement(R.button,x({type:"button",role:"radio","aria-checked":s,"data-state":Ee(s),"data-disabled":i?"":void 0,disabled:i,value:c},f,{ref:h,onClick:N(t.onClick,v=>{s||d==null||d(),g&&($.current=v.isPropagationStopped(),$.current||v.stopPropagation())})})),g&&r.createElement(It,{control:p,bubbles:!$.current,name:n,value:c,checked:s,required:e,disabled:i,style:{transform:"translateX(-100%)"}}))}),At="RadioIndicator",Nt=r.forwardRef((t,a)=>{const{__scopeRadio:o,forceMount:n,...s}=t,e=kt(At,o);return r.createElement(W,{present:n||e.checked},r.createElement(R.span,x({"data-state":Ee(e.checked),"data-disabled":e.disabled?"":void 0},s,{ref:a})))}),It=t=>{const{control:a,checked:o,bubbles:n=!0,...s}=t,e=r.useRef(null),i=re(o),c=ne(a);return r.useEffect(()=>{const d=e.current,f=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(f,"checked").set;if(i!==o&&u){const h=new Event("click",{bubbles:n});u.call(d,o),d.dispatchEvent(h)}},[i,o,n]),r.createElement("input",x({type:"radio","aria-hidden":!0,defaultChecked:o},s,{tabIndex:-1,ref:e,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function Ee(t){return t?"checked":"unchecked"}const Pt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Re="RadioGroup",[jt,fo]=j(Re,[ce,we]),_e=ce(),ke=we(),[St,Dt]=jt(Re),Mt=r.forwardRef((t,a)=>{const{__scopeRadioGroup:o,name:n,defaultValue:s,value:e,required:i=!1,disabled:c=!1,orientation:d,dir:f,loop:p=!0,onValueChange:u,...h}=t,$=_e(o),g=ae(f),[v,C]=S({prop:e,defaultProp:s,onChange:u});return r.createElement(St,{scope:o,name:n,required:i,disabled:c,value:v,onValueChange:C},r.createElement(Oe,x({asChild:!0},$,{orientation:d,dir:g,loop:p}),r.createElement(R.div,x({role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":c?"":void 0,dir:g},h,{ref:a}))))}),Ot="RadioGroupItem",Vt=r.forwardRef((t,a)=>{const{__scopeRadioGroup:o,disabled:n,...s}=t,e=Dt(Ot,o),i=e.disabled||n,c=_e(o),d=ke(o),f=r.useRef(null),p=P(a,f),u=e.value===s.value,h=r.useRef(!1);return r.useEffect(()=>{const $=v=>{Pt.includes(v.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",$),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",$),document.removeEventListener("keyup",g)}},[]),r.createElement(Ve,x({asChild:!0},c,{focusable:!i,active:u}),r.createElement(yt,x({disabled:i,required:e.required,checked:u},d,s,{name:e.name,ref:p,onCheck:()=>e.onValueChange(s.value),onKeyDown:N($=>{$.key==="Enter"&&$.preventDefault()}),onFocus:N(s.onFocus,()=>{var $;h.current&&(($=f.current)===null||$===void 0||$.click())})})))}),Ft=r.forwardRef((t,a)=>{const{__scopeRadioGroup:o,...n}=t,s=ke(o);return r.createElement(Nt,x({},s,n,{ref:a}))}),ye=Mt,Ae=Vt,Lt=Ft,Ne=r.forwardRef(({className:t,...a},o)=>l.jsx(ye,{className:A("grid gap-2",t),...a,ref:o}));Ne.displayName=ye.displayName;const X=r.forwardRef(({className:t,...a},o)=>l.jsx(Ae,{ref:o,className:A("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:l.jsx(Lt,{className:"flex items-center justify-center",children:l.jsx(Fe,{className:"h-2.5 w-2.5 fill-current text-current"})})}));X.displayName=Ae.displayName;const Gt=()=>{const[t,a]=r.useState(Le("serviceFilter")),o=(e,i)=>e!=null&&e.sort&&e?{...e,sort:i}:{sort:i},n=(e,i,c)=>e!=null&&e.categories&&e?i?{...e,categories:[...e.categories,c.id]}:{...e,categories:e.categories.filter(d=>d!==c.id)}:!(e!=null&&e.categories)&&e?i?{...e,categories:[c.id]}:{...e,categories:[]}:i?{categories:[c.id]}:{categories:[]},s=r.useRef(null);return r.useEffect(()=>{const e=s.current;e&&e.focus()},[]),{sortFilterHandler:o,categoryFilterHandler:n,setSelected:a,selected:t,searchRef:s}},Tt=Gt;function uo({categories:t,serivces:a}){const{categoryFilterHandler:o,setSelected:n,sortFilterHandler:s,selected:e,searchRef:i}=Tt();return l.jsxs("section",{className:"grid md:grid-cols-[240px_1fr] items-start gap-10 px-4 md:px-6",children:[l.jsxs("div",{className:"flex flex-col items-start gap-4 py-2",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("form",{className:"flex items-center gap-2",onSubmit:c=>{c.preventDefault(),e&&D.post("/services",{...e})},children:[l.jsx(qt,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),l.jsx(B,{className:"w-auto md:w-[200px] bg-white shadow-none appearance-none border border-gray-200 dark:border-gray-800",placeholder:"Search services...",type:"search",ref:i,defaultValue:e&&e.search?e.search:"",onChange:c=>{n(d=>{const f=((p,u)=>p?{...p,search:u}:{search:u})(d,c.target.value);return M("serviceFilter",f),f})}})]})}),l.jsxs(Et,{className:"w-full",collapsible:!0,type:"single",children:[l.jsxs(K,{value:"category",children:[l.jsx(U,{className:"text-base",children:"Category"}),l.jsx(z,{children:l.jsx("div",{className:"grid gap-2",children:t.map(c=>l.jsxs(I,{className:"flex items-center gap-2 font-normal",children:[l.jsx(de,{id:String(c.id),onCheckedChange:d=>{n(f=>{const p=o(f,!!d,c);return M("serviceFilter",p),p&&D.post("/services",{...p}),p})},defaultChecked:e&&e.categories&&e.categories.filter(d=>d==c.id).length>0}),c.name,`
`]},c.id))})})]}),l.jsxs(K,{value:"price",children:[l.jsx(U,{className:"text-base",children:"Price"}),l.jsxs(z,{children:[l.jsxs(Ne,{defaultValue:"price-lowest",className:"grid gap-2",onValueChange:c=>{n(d=>{const f=s(d,c);return console.log(f),M("serviceFilter",f),f&&D.post("/services",{...f}),f})},children:[l.jsxs(I,{className:"flex items-center gap-2 font-normal",children:[l.jsx(X,{value:"desc",id:"price-lowest",defaultChecked:e&&e.sort&&e.sort==="desc"}),"Lowest to highest",`
                              `]}),l.jsxs(I,{className:"flex items-center gap-2 font-normal",children:[l.jsx(X,{value:"asc",id:"price-highest",defaultChecked:e&&e.sort&&e.sort==="asc"}),"Highest to lowest",`
                              `]})]}),l.jsxs("form",{className:"flex flex-col gap-3 mt-6",onSubmit:c=>{c.preventDefault(),e&&(M("serviceFilter",e),D.post("/services",{...e}))},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(I,{className:"w-[100px]",htmlFor:"price-min",children:"Min Price"}),l.jsx(B,{className:"w-[100px]",id:"price-min",placeholder:"Min Price",defaultValue:e!=null&&e.min?e.min:"",onChange:c=>{n(d=>({...d,min:Number(c.target.value)}))}})]}),l.jsxs("div",{className:"flex items-center w-full gap-2",children:[l.jsx(I,{className:"w-[100px]",htmlFor:"price-max",children:"Max Price"}),l.jsx(B,{className:"w-[100px]",id:"price-max",placeholder:"Max Price",defaultValue:e!=null&&e.max?e.max:"",onChange:c=>{n(d=>({...d,max:Number(c.target.value)}))}})]}),l.jsx(Ge,{className:"w-full mt-3",children:"Filter"})]})]})]})]})]}),l.jsxs("div",{className:"grid gap-6 md:gap-8",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:"Find Services"})}),l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(c=>l.jsx(Me,{service:c},c.id))})]})]})}function qt(t){return l.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"m21 21-4.3-4.3"})]})}export{uo as default};
