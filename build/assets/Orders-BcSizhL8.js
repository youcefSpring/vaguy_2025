import{j as e,y as o,q as y}from"./app-lUInwgRy.js";import{D as l,a as D}from"./DataTableColumnHeader-CvBaeazw.js";import{B as n,b as x}from"./button-DzDbuX-O.js";import{a as d}from"./date-cSGFDods.js";import{B as i}from"./badge-Rhw34J5G.js";import{S,a as C}from"./scroll-area-Cz3DdDO6.js";import{D as _,a as k,b as T,c as I,d as O,e as A}from"./dialog-BWYTjd7C.js";import"./input-C7csDmVJ.js";import"./label-BGTeFzqh.js";import{f}from"./money-CnQH2c1S.js";import{D as E}from"./DashboardInfLayout-Cms2VRLC.js";import{I as P}from"./InfNavigation-D_hyJJEl.js";import{P as $}from"./PageTransitionLoader-DXLxdYXm.js";import{S as B}from"./SafePageWrapper-CkayXVfx.js";import{D as F}from"./DashboardSkeleton-DbU6RRTk.js";import{s as K}from"./safeUtils-xymjWBta.js";import{C as j,b as p,c as h,a as v,e as g}from"./card-DFZvYdxo.js";import{D as R,a as q,b as z}from"./drawer-C4B-pLKY.js";import H from"./Starts-CsvBZRh1.js";import{M as L}from"./message-square-CbITMHMe.js";import{E as M}from"./eye-D-efa7vg.js";/* empty css            */import"./table-CTwoGOSK.js";import"./utils-Cx_fVcGQ.js";import"./select-1wS69xo6.js";import"./index-BEk9yI-S.js";import"./index-DHkfiFuj.js";import"./index-DeDYDX0v.js";import"./index-DcmApiEi.js";import"./createLucideIcon-BKiTtyiR.js";import"./index-x9bG2h8o.js";import"./index-CWdjyrzl.js";import"./index-CbDD-pNU.js";import"./index-DGf6IaJB.js";import"./tooltip-T2okiHGF.js";import"./index-DNiOst2b.js";import"./chevron-right-DaGFS2bX.js";import"./avatar-IUyYeUaq.js";import"./consts-CgVw4MgC.js";import"./translations-DtJK5JUl.js";import"./instagram-DDsg64cs.js";import"./mail-DP18s0oF.js";import"./format-B0DXPM4f.js";import"./index-B_8yjaaa.js";import"./x-D5Njf_z9.js";import"./dashboardNavigation-BRq9JMAK.js";import"./star-BFJ02xrI.js";const J=t=>[{accessorKey:"order_no",header:({column:a})=>e.jsx(l,{column:a,title:"Numéro de commande"})},{accessorKey:"user",header:({column:a})=>e.jsx(l,{column:a,title:"Nom d'utilisateur"}),cell:({row:a})=>{const s=a.original;return e.jsx("div",{children:e.jsx("strong",{children:s.user.username})})}},{accessorKey:"amount",header:({column:a})=>e.jsx(l,{column:a,title:"price of the order"}),cell:({row:a})=>{const s=a.original;return e.jsx("div",{className:"flex gap-2",children:f(s.amount)})}},{accessorKey:"delivery_date",header:({column:a})=>e.jsx(l,{column:a,title:"Statut"}),cell:({row:a})=>{const s=a.original;return e.jsxs("div",{children:[" ",s.delivery_date?d(String(s.delivery_date)):"/"]})}},{accessorKey:"status",header:({column:a})=>e.jsx(l,{column:a,title:"Statut"}),cell:({row:a})=>{const s=a.original.status;return e.jsx(N,{status:Number(s)})}},{id:"actions",header:({column:a})=>e.jsx(l,{column:a,title:"Commandes"}),cell:({row:a})=>{const s=a.original;return console.log(s),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",size:"icon",className:"hover:bg-green-300 hover:duration-75",onClick:()=>{o.visit(`/client/conversation/contact/${s.influencer.id}`)},children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs(R,{children:[e.jsxs(q,{children:[" ",e.jsx(n,{variant:"outline",size:"icon",className:"hover:bg-primary-foreground hover:duration-75",children:e.jsx(M,{className:"w-4 h-4"})})]}),e.jsxs(z,{children:[e.jsx("h2",{className:"px-6 text-2xl ",children:"Details :"}),e.jsxs(S,{children:[e.jsxs("div",{className:"flex gap-6 px-6 py-6",children:[e.jsx(W,{user:s.user,review:s.review,id:s.id,status:s.status}),e.jsx(V,{order:s})]}),e.jsx(C,{orientation:"horizontal"})]})]})]})]})}}],ze=({orders:t,influencer:a,pendingOrder:s})=>{const{url:c}=y(),u={data:K(t==null?void 0:t.data,[]),meta:(t==null?void 0:t.meta)||{},links:(t==null?void 0:t.links)||{},current_page:(t==null?void 0:t.current_page)||1,per_page:(t==null?void 0:t.per_page)||10,total:(t==null?void 0:t.total)||0};let m=c.split("orders/")[1];m=m===""?"/":m;const b=[{value:"index",name:"Tous"},{value:"pending",name:`En attente (${s})`},{value:"inprogress",name:"En cours"},{value:"job-done",name:"Travail accompli"},{value:"completed",name:"Achevée"},{value:"reported",name:"Reporté"}];return e.jsx(E,{title:"Order",children:e.jsx(B,{loading:!1,requiredData:[t],title:"Orders",children:e.jsx($,{fallback:e.jsx(F,{}),minLoadTime:800,children:e.jsxs("div",{className:"w-full h-full py-8 ",children:[e.jsxs("div",{className:"w-full mb-12",dir:"ltr",children:[e.jsx("h1",{className:"mb-4 text-4xl font-semibold ",children:"Orders"}),e.jsx(P,{})]}),e.jsx(D,{columns:J(),data:u.data,search:"order_no",pagination:u,filter:{data:b,state:m,onClick(w){o.visit(`/influencer/orders/${w}`)}}})]})})})})},N=({status:t})=>{switch(t){case 1:return e.jsx(i,{variant:"outline",children:"Completed"});case 2:return e.jsx(i,{variant:"outline",children:"In Progress"});case 3:return e.jsx(i,{variant:"outline",children:"Job done"});case 4:return e.jsx(i,{variant:"outline",children:"Reported"});case 5:return e.jsx(i,{variant:"outline",children:"Cancelled"});case 6:return e.jsx(i,{variant:"outline",children:"Rejected"});default:return e.jsx(i,{variant:"outline",children:"Pending"})}},V=({order:t})=>e.jsxs(j,{className:"h-full w-[400px]  flex flex-col",children:[e.jsx(p,{className:"flex flex-row items-center p-2",children:e.jsx("div",{className:"flex flex-row items-center justify-center w-full p-0 ",children:e.jsx(h,{children:"Offer Information"})})}),e.jsx(v,{className:"flex-1",children:e.jsxs("div",{className:"mt-6 mb-auto",children:[e.jsx(r,{title:"Title",value:String(t.title)}),e.jsx(r,{title:"Delevery Date",value:t.delivery_date?d(String(t.delivery_date)):"/"}),e.jsx(r,{title:"Amount",value:f(t.amount)}),e.jsx(r,{title:"Order No",value:t.order_no}),e.jsx(r,{title:"Order Status",value:String(t.status),isState:!0}),e.jsxs("div",{className:"flex items-center justify-between w-full mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:["Details"," :"]}),e.jsxs(_,{children:[e.jsx(k,{children:e.jsx(n,{variant:"outline",color:"primary",children:"View"})}),e.jsx(T,{children:e.jsxs(I,{children:[e.jsx(O,{children:"Description :"}),e.jsx(A,{children:t.description})]})})]})]})]})}),e.jsx(g,{className:"flex flex-row items-center gap-4 p-4"})]}),r=({title:t,value:a,isState:s})=>e.jsxs("div",{className:"flex items-center justify-between w-full mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[t," :"]}),s?e.jsx(N,{status:Number(a)}):e.jsx("p",{className:"",children:a})]}),W=({user:t,review:a,status:s,id:c})=>(console.log(t),e.jsxs(j,{className:"h-full w-[400px]  flex flex-col",children:[e.jsx(p,{className:"flex flex-row items-center p-2",children:e.jsx("div",{className:"flex flex-row items-center justify-center w-full p-0 ",children:e.jsx(h,{children:"User Information"})})}),e.jsx(v,{className:"flex-1",children:e.jsxs("div",{className:"mt-6 mb-auto",children:[e.jsx(r,{title:"Name",value:t.firstname+" "+t.lastname}),e.jsx(r,{title:"Email",value:t.email}),e.jsx(r,{title:"Country",value:""+t.country_code}),e.jsx(r,{title:"Member Since",value:d(String(t.created_at))})]})}),e.jsx(g,{className:"flex flex-row items-center gap-4 p-4",children:s===2?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center justify-between w-full mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"take action : "}),e.jsx(n,{className:x({variant:"default"}),onClick:()=>{o.post(`/influencer/orders/jobDone/status/${c}`,{})},children:"Job done"})]})}):s===1&&a?e.jsxs("div",{className:"flex flex-col w-full py-5",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"rating"}),e.jsx(H,{rating:a.star})]}),e.jsx(r,{title:"review",value:String(a.review)})]}):s===0?e.jsx(e.Fragment,{children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center justify-between w-full mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"take action : "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n,{className:x({variant:"default"}),onClick:()=>{o.post(`/influencer/orders/accept/status/${c}`,{})},children:"Accept"}),e.jsx(n,{className:x({variant:"secondary"}),onClick:()=>{o.post(`/influencer/orders/cancel/status/${c}`,{})},children:"cancel"})]})]})})}):e.jsx(e.Fragment,{})})]}));export{J as columns,ze as default};
