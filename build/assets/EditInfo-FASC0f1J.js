import{r as p,j as e}from"./app-lUInwgRy.js";import{d as I,e as C,f as s}from"./influencers.interface-8FI9vJra.js";import{C as F,b as v,c as E,a as V}from"./card-DFZvYdxo.js";import{F as T,a as o,b as n}from"./FormInput-DB9DkBcD.js";import{u as R}from"./form-DTWdmFFU.js";import{I as k}from"./ImageInputSlider-kNU7chFI.js";import{A as D}from"./genral.interface-DhVVOlHY.js";import{I as u}from"./input-C7csDmVJ.js";import{B as S}from"./button-DzDbuX-O.js";import{T as A}from"./textarea--eRPwkRH.js";import{M}from"./multiple-selector-BZewdskg.js";/* empty css            */import"./index-dIKOytT1.js";import"./utils-Cx_fVcGQ.js";import"./label-BGTeFzqh.js";import"./index-CbDD-pNU.js";import"./carousel-CLqcSVz0.js";import"./createLucideIcon-BKiTtyiR.js";import"./square-pen-CCFS1iLF.js";import"./index-B_8yjaaa.js";import"./index-DHkfiFuj.js";import"./index-DeDYDX0v.js";import"./index-CWdjyrzl.js";import"./dialog-BWYTjd7C.js";import"./x-D5Njf_z9.js";import"./search-BbkOGfC2.js";import"./badge-Rhw34J5G.js";const q=l=>{const{handleSubmit:h,rhfForm:f,inertiaForm:m}=R({schema:I,defaultValues:l?{profession:String(l.profession||""),lastname:String(l.lastname||""),firstname:String(l.firstname||""),summary:String(l.summary||""),category:l.categories||[],image:null}:C});function x(c,a){a.post("/influencer/profile-setting")}return{onSubmit:x,handleSubmit:h,rhfForm:f,inertiaForm:m,dataSetter:c=>{m.setData(c)}}},de=({influencer:l,data:h,categories:f,handleToggleEdit:m})=>{const{handleSubmit:x,inertiaForm:b,onSubmit:c,rhfForm:a,dataSetter:d}=q(l),y=p.useRef(null),j=p.useRef(null);p.useRef(null);const[w,B]=p.useState(f.map(r=>({value:String(r.id),label:String(r.name)})));return e.jsxs(F,{className:"my-12",children:[e.jsx(v,{children:e.jsx(E,{children:"Edit Influencer info "})}),e.jsx(V,{children:e.jsx(T,{...a,children:e.jsxs("form",{onSubmit:x(c,r=>{console.log(r)}),className:"flex flex-col w-full space-y-4",ref:y,children:[e.jsxs("div",{className:"flex flex-col w-full gap-3 md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(o,{control:a.control,name:"image",render:({field:{value:r,onChange:t,...g}})=>e.jsxs(e.Fragment,{children:[r?e.jsx(k,{images:r,editImages:()=>{var i;t(""),(i=j.current)==null||i.click()},removeImages:()=>{t("")},className:"w-[350px]"}):e.jsx(e.Fragment,{}),e.jsx(n,{label:s.image.description,className:`${r?" invisible w-0 h-0":"w-1/2"}`,children:e.jsx(u,{placeholder:s.image.placeholder,...g,ref:j,type:"file",onChange:i=>{const N=i.target.files&&i.target.files[0];t(N),d(a.getValues())},accept:D(["jpeg","png","svg"]).join(",")})})]})})," "]}),e.jsxs("div",{className:"flex flex-col w-full gap-2 md:w-1/2",children:[e.jsxs("div",{className:"flex flex-row items-center justify-start w-full gap-3",children:[e.jsx(o,{control:a.control,name:"firstname",render:({field:r})=>e.jsx(n,{label:s.firstname.description,className:"w-full",children:e.jsx(u,{placeholder:s.firstname.placeholder,...r})})}),e.jsx(o,{name:"lastname",control:a.control,render:({field:r})=>e.jsx(n,{label:s.lastname.description,className:"w-full ",children:e.jsx(u,{...r,onChange:t=>{r.onChange(String(t.target.value)),d(a.getValues())},required:!0,placeholder:""+s.lastname.placeholder})})})]}),e.jsx(o,{name:"profession",control:a.control,render:({field:r})=>e.jsx(n,{label:s.profession.description,className:"w-full ",children:e.jsx(u,{...r,onChange:t=>{r.onChange(String(t.target.value)),d(a.getValues())},required:!0,placeholder:""+s.profession.placeholder})})}),e.jsx(o,{control:a.control,name:"category",render:({field:r})=>e.jsx(n,{label:s.category.description,className:"w-full",children:e.jsx(e.Fragment,{children:e.jsx(M,{defaultValue:r.value.map(t=>({label:String(t.name),value:String(t.id)})),options:w,onChange:t=>{r.onChange(t.map(g=>g.value)),d(a.getValues())},placeholder:s.category.placeholder,emptyIndicator:e.jsx("p",{className:"text-lg leading-10 text-center text-gray-600 dark:text-gray-400",children:"no results found."}),creatable:!0})})})})," ",e.jsx(o,{control:a.control,name:"summary",render:({field:r})=>e.jsx(n,{label:s.summary.description,className:"w-full",children:e.jsx(A,{placeholder:s.summary.placeholder,...r})})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[e.jsx(S,{type:"button",variant:"outline",className:"w-[200px]",onClick:m,children:"Cancel"}),e.jsx(S,{type:"submit",className:"w-[200px]",disabled:!a.getValues().firstname||!a.getValues().summary,children:"Enregistrer"})]})]})})})]})};export{de as default};
