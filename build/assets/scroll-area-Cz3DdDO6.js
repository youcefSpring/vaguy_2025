import{r,j as C}from"./app-lUInwgRy.js";import{_ as p,a as R,c as V}from"./utils-Cx_fVcGQ.js";import{$ as _}from"./index-CbDD-pNU.js";import{$ as M,a as x}from"./index-DHkfiFuj.js";import{$ as ne,a as E,b as le}from"./index-DeDYDX0v.js";import{$ as ce}from"./index-x9bG2h8o.js";import{$ as ae}from"./index-BEk9yI-S.js";function se(e,l){return r.useReducer((o,c)=>{const t=l[o][c];return t??o},e)}const k="ScrollArea",[j,We]=ne(k),[ie,v]=j(k),de=r.forwardRef((e,l)=>{const{__scopeScrollArea:o,type:c="hover",dir:t,scrollHideDelay:n=600,...s}=e,[a,d]=r.useState(null),[f,i]=r.useState(null),[b,u]=r.useState(null),[h,S]=r.useState(null),[y,Y]=r.useState(null),[g,L]=r.useState(0),[I,D]=r.useState(0),[z,A]=r.useState(!1),[H,W]=r.useState(!1),m=R(l,P=>d(P)),$=ce(t);return r.createElement(ie,{scope:o,type:c,dir:$,scrollHideDelay:n,scrollArea:a,viewport:f,onViewportChange:i,content:b,onContentChange:u,scrollbarX:h,onScrollbarXChange:S,scrollbarXEnabled:z,onScrollbarXEnabledChange:A,scrollbarY:y,onScrollbarYChange:Y,scrollbarYEnabled:H,onScrollbarYEnabledChange:W,onCornerWidthChange:L,onCornerHeightChange:D},r.createElement(_.div,p({dir:$},s,{ref:m,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":I+"px",...e.style}})))}),ue="ScrollAreaViewport",fe=r.forwardRef((e,l)=>{const{__scopeScrollArea:o,children:c,...t}=e,n=v(ue,o),s=r.useRef(null),a=R(l,s,n.onViewportChange);return r.createElement(r.Fragment,null,r.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),r.createElement(_.div,p({"data-radix-scroll-area-viewport":""},t,{ref:a,style:{overflowX:n.scrollbarXEnabled?"scroll":"hidden",overflowY:n.scrollbarYEnabled?"scroll":"hidden",...e.style}}),r.createElement("div",{ref:n.onContentChange,style:{minWidth:"100%",display:"table"}},c)))}),w="ScrollAreaScrollbar",q=r.forwardRef((e,l)=>{const{forceMount:o,...c}=e,t=v(w,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:s}=t,a=e.orientation==="horizontal";return r.useEffect(()=>(a?n(!0):s(!0),()=>{a?n(!1):s(!1)}),[a,n,s]),t.type==="hover"?r.createElement(be,p({},c,{ref:l,forceMount:o})):t.type==="scroll"?r.createElement(he,p({},c,{ref:l,forceMount:o})):t.type==="auto"?r.createElement(G,p({},c,{ref:l,forceMount:o})):t.type==="always"?r.createElement(B,p({},c,{ref:l})):null}),be=r.forwardRef((e,l)=>{const{forceMount:o,...c}=e,t=v(w,e.__scopeScrollArea),[n,s]=r.useState(!1);return r.useEffect(()=>{const a=t.scrollArea;let d=0;if(a){const f=()=>{window.clearTimeout(d),s(!0)},i=()=>{d=window.setTimeout(()=>s(!1),t.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",i),()=>{window.clearTimeout(d),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",i)}}},[t.scrollArea,t.scrollHideDelay]),r.createElement(M,{present:o||n},r.createElement(G,p({"data-state":n?"visible":"hidden"},c,{ref:l})))}),he=r.forwardRef((e,l)=>{const{forceMount:o,...c}=e,t=v(w,e.__scopeScrollArea),n=e.orientation==="horizontal",s=X(()=>d("SCROLL_END"),100),[a,d]=se("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return r.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>d("HIDE"),t.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,t.scrollHideDelay,d]),r.useEffect(()=>{const f=t.viewport,i=n?"scrollLeft":"scrollTop";if(f){let b=f[i];const u=()=>{const h=f[i];b!==h&&(d("SCROLL"),s()),b=h};return f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,n,d,s]),r.createElement(M,{present:o||a!=="hidden"},r.createElement(B,p({"data-state":a==="hidden"?"hidden":"visible"},c,{ref:l,onPointerEnter:x(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:x(e.onPointerLeave,()=>d("POINTER_LEAVE"))})))}),G=r.forwardRef((e,l)=>{const o=v(w,e.__scopeScrollArea),{forceMount:c,...t}=e,[n,s]=r.useState(!1),a=e.orientation==="horizontal",d=X(()=>{if(o.viewport){const f=o.viewport.offsetWidth<o.viewport.scrollWidth,i=o.viewport.offsetHeight<o.viewport.scrollHeight;s(a?f:i)}},10);return T(o.viewport,d),T(o.content,d),r.createElement(M,{present:c||n},r.createElement(B,p({"data-state":n?"visible":"hidden"},t,{ref:l})))}),B=r.forwardRef((e,l)=>{const{orientation:o="vertical",...c}=e,t=v(w,e.__scopeScrollArea),n=r.useRef(null),s=r.useRef(0),[a,d]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Z(a.viewport,a.content),i={...c,sizes:a,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:u=>n.current=u,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:u=>s.current=u};function b(u,h){return Ee(u,s.current,a,h)}return o==="horizontal"?r.createElement(me,p({},i,{ref:l,onThumbPositionChange:()=>{if(t.viewport&&n.current){const u=t.viewport.scrollLeft,h=F(u,a,t.dir);n.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:u=>{t.viewport&&(t.viewport.scrollLeft=u)},onDragScroll:u=>{t.viewport&&(t.viewport.scrollLeft=b(u,t.dir))}})):o==="vertical"?r.createElement(pe,p({},i,{ref:l,onThumbPositionChange:()=>{if(t.viewport&&n.current){const u=t.viewport.scrollTop,h=F(u,a);n.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:u=>{t.viewport&&(t.viewport.scrollTop=u)},onDragScroll:u=>{t.viewport&&(t.viewport.scrollTop=b(u))}})):null}),me=r.forwardRef((e,l)=>{const{sizes:o,onSizesChange:c,...t}=e,n=v(w,e.__scopeScrollArea),[s,a]=r.useState(),d=r.useRef(null),f=R(l,d,n.onScrollbarXChange);return r.useEffect(()=>{d.current&&a(getComputedStyle(d.current))},[d]),r.createElement(K,p({"data-orientation":"horizontal"},t,{ref:f,sizes:o,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":O(o)+"px",...e.style},onThumbPointerDown:i=>e.onThumbPointerDown(i.x),onDragScroll:i=>e.onDragScroll(i.x),onWheelScroll:(i,b)=>{if(n.viewport){const u=n.viewport.scrollLeft+i.deltaX;e.onWheelScroll(u),re(u,b)&&i.preventDefault()}},onResize:()=>{d.current&&n.viewport&&s&&c({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:N(s.paddingLeft),paddingEnd:N(s.paddingRight)}})}}))}),pe=r.forwardRef((e,l)=>{const{sizes:o,onSizesChange:c,...t}=e,n=v(w,e.__scopeScrollArea),[s,a]=r.useState(),d=r.useRef(null),f=R(l,d,n.onScrollbarYChange);return r.useEffect(()=>{d.current&&a(getComputedStyle(d.current))},[d]),r.createElement(K,p({"data-orientation":"vertical"},t,{ref:f,sizes:o,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":O(o)+"px",...e.style},onThumbPointerDown:i=>e.onThumbPointerDown(i.y),onDragScroll:i=>e.onDragScroll(i.y),onWheelScroll:(i,b)=>{if(n.viewport){const u=n.viewport.scrollTop+i.deltaY;e.onWheelScroll(u),re(u,b)&&i.preventDefault()}},onResize:()=>{d.current&&n.viewport&&s&&c({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:N(s.paddingTop),paddingEnd:N(s.paddingBottom)}})}}))}),[Se,J]=j(w),K=r.forwardRef((e,l)=>{const{__scopeScrollArea:o,sizes:c,hasThumb:t,onThumbChange:n,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:i,onResize:b,...u}=e,h=v(w,o),[S,y]=r.useState(null),Y=R(l,m=>y(m)),g=r.useRef(null),L=r.useRef(""),I=h.viewport,D=c.content-c.viewport,z=E(i),A=E(d),H=X(b,10);function W(m){if(g.current){const $=m.clientX-g.current.left,P=m.clientY-g.current.top;f({x:$,y:P})}}return r.useEffect(()=>{const m=$=>{const P=$.target;(S==null?void 0:S.contains(P))&&z($,D)};return document.addEventListener("wheel",m,{passive:!1}),()=>document.removeEventListener("wheel",m,{passive:!1})},[I,S,D,z]),r.useEffect(A,[c,A]),T(S,H),T(h.content,H),r.createElement(Se,{scope:o,scrollbar:S,hasThumb:t,onThumbChange:E(n),onThumbPointerUp:E(s),onThumbPositionChange:A,onThumbPointerDown:E(a)},r.createElement(_.div,p({},u,{ref:Y,style:{position:"absolute",...u.style},onPointerDown:x(e.onPointerDown,m=>{m.button===0&&(m.target.setPointerCapture(m.pointerId),g.current=S.getBoundingClientRect(),L.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),W(m))}),onPointerMove:x(e.onPointerMove,W),onPointerUp:x(e.onPointerUp,m=>{const $=m.target;$.hasPointerCapture(m.pointerId)&&$.releasePointerCapture(m.pointerId),document.body.style.webkitUserSelect=L.current,h.viewport&&(h.viewport.style.scrollBehavior=""),g.current=null})})))}),U="ScrollAreaThumb",ve=r.forwardRef((e,l)=>{const{forceMount:o,...c}=e,t=J(U,e.__scopeScrollArea);return r.createElement(M,{present:o||t.hasThumb},r.createElement($e,p({ref:l},c)))}),$e=r.forwardRef((e,l)=>{const{__scopeScrollArea:o,style:c,...t}=e,n=v(U,o),s=J(U,o),{onThumbPositionChange:a}=s,d=R(l,b=>s.onThumbChange(b)),f=r.useRef(),i=X(()=>{f.current&&(f.current(),f.current=void 0)},100);return r.useEffect(()=>{const b=n.viewport;if(b){const u=()=>{if(i(),!f.current){const h=xe(b,a);f.current=h,a()}};return a(),b.addEventListener("scroll",u),()=>b.removeEventListener("scroll",u)}},[n.viewport,i,a]),r.createElement(_.div,p({"data-state":s.hasThumb?"visible":"hidden"},t,{ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:x(e.onPointerDownCapture,b=>{const h=b.target.getBoundingClientRect(),S=b.clientX-h.left,y=b.clientY-h.top;s.onThumbPointerDown({x:S,y})}),onPointerUp:x(e.onPointerUp,s.onThumbPointerUp)}))}),Q="ScrollAreaCorner",we=r.forwardRef((e,l)=>{const o=v(Q,e.__scopeScrollArea),c=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&c?r.createElement(ge,p({},e,{ref:l})):null}),ge=r.forwardRef((e,l)=>{const{__scopeScrollArea:o,...c}=e,t=v(Q,o),[n,s]=r.useState(0),[a,d]=r.useState(0),f=!!(n&&a);return T(t.scrollbarX,()=>{var i;const b=((i=t.scrollbarX)===null||i===void 0?void 0:i.offsetHeight)||0;t.onCornerHeightChange(b),d(b)}),T(t.scrollbarY,()=>{var i;const b=((i=t.scrollbarY)===null||i===void 0?void 0:i.offsetWidth)||0;t.onCornerWidthChange(b),s(b)}),f?r.createElement(_.div,p({},c,{ref:l,style:{width:n,height:a,position:"absolute",right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function N(e){return e?parseInt(e,10):0}function Z(e,l){const o=e/l;return isNaN(o)?0:o}function O(e){const l=Z(e.viewport,e.content),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=(e.scrollbar.size-o)*l;return Math.max(c,18)}function Ee(e,l,o,c="ltr"){const t=O(o),n=t/2,s=l||n,a=t-s,d=o.scrollbar.paddingStart+s,f=o.scrollbar.size-o.scrollbar.paddingEnd-a,i=o.content-o.viewport,b=c==="ltr"?[0,i]:[i*-1,0];return ee([d,f],b)(e)}function F(e,l,o="ltr"){const c=O(l),t=l.scrollbar.paddingStart+l.scrollbar.paddingEnd,n=l.scrollbar.size-t,s=l.content-l.viewport,a=n-c,d=o==="ltr"?[0,s]:[s*-1,0],f=ae(e,d);return ee([0,s],[0,a])(f)}function ee(e,l){return o=>{if(e[0]===e[1]||l[0]===l[1])return l[0];const c=(l[1]-l[0])/(e[1]-e[0]);return l[0]+c*(o-e[0])}}function re(e,l){return e>0&&e<l}const xe=(e,l=()=>{})=>{let o={left:e.scrollLeft,top:e.scrollTop},c=0;return function t(){const n={left:e.scrollLeft,top:e.scrollTop},s=o.left!==n.left,a=o.top!==n.top;(s||a)&&l(),o=n,c=window.requestAnimationFrame(t)}(),()=>window.cancelAnimationFrame(c)};function X(e,l){const o=E(e),c=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(c.current),[]),r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(o,l)},[o,l])}function T(e,l){const o=E(l);le(()=>{let c=0;if(e){const t=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(o)});return t.observe(e),()=>{window.cancelAnimationFrame(c),t.unobserve(e)}}},[e,o])}const oe=de,Pe=fe,Ce=we,Te=r.forwardRef(({className:e,children:l,scrollToBottom:o=!0,...c},t)=>{const n=r.useRef(null);r.useEffect(()=>{n.current&&(o?n.current.scrollTop=n.current.scrollHeight:n.current.scrollTop=0)},[o]);const s=()=>{n.current&&(n.current.scrollTop=0)},a=()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)};return r.useImperativeHandle(t,()=>({scrollToTop:s,scrollToBottom:a})),C.jsxs(oe,{className:V("relative overflow-hidden",e),...c,children:[C.jsx(Pe,{ref:n,className:"h-full w-full rounded-[inherit]",children:l}),C.jsx(te,{}),C.jsx(Ce,{})]})});Te.displayName=oe.displayName;const te=r.forwardRef(({className:e,orientation:l="vertical",...o},c)=>C.jsx(q,{ref:c,orientation:l,className:V("flex touch-none select-none transition-colors",l==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",l==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...o,children:C.jsx(ve,{className:"relative flex-1 rounded-full bg-primary"})}));te.displayName=q.displayName;export{Te as S,te as a};
