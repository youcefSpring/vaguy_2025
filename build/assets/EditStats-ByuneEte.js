import{r as o,j as t}from"./app-lUInwgRy.js";import{i as I,j as C,k as f}from"./influencers.interface-8FI9vJra.js";import{C as N,b as w,c as y,a as R}from"./card-DFZvYdxo.js";import{F as k,a as E,b as D}from"./FormInput-DB9DkBcD.js";import{u as B}from"./form-DTWdmFFU.js";import{I as T}from"./ImageInputSlider-kNU7chFI.js";import{I as V}from"./input-C7csDmVJ.js";import{B as x}from"./button-DzDbuX-O.js";/* empty css            */import"./index-dIKOytT1.js";import"./genral.interface-DhVVOlHY.js";import"./utils-Cx_fVcGQ.js";import"./label-BGTeFzqh.js";import"./index-CbDD-pNU.js";import"./carousel-CLqcSVz0.js";import"./createLucideIcon-BKiTtyiR.js";import"./square-pen-CCFS1iLF.js";const q=h=>{const{handleSubmit:d,rhfForm:l,inertiaForm:a}=B({schema:I,defaultValues:C});function n(i,s){s.post("/influencer/updateStat")}return{onSubmit:n,handleSubmit:d,rhfForm:l,inertiaForm:a,dataSetter:i=>{a.setData(i)}}},Y=({influencer:h,data:d,categories:l,handleToggleEdit:a})=>{const{handleSubmit:n,inertiaForm:j,onSubmit:i,rhfForm:s,dataSetter:S}=q(),g=o.useRef(null),p=o.useRef(null);return o.useRef(null),o.useState(l.map(e=>({value:String(e.id),label:String(e.name)}))),t.jsxs(N,{className:"my-12",children:[t.jsx(w,{children:t.jsx(y,{children:"Statistiques "})}),t.jsx(R,{children:t.jsx(k,{...s,children:t.jsxs("form",{onSubmit:n(i,e=>{console.log(e)}),className:"flex flex-col w-full space-y-4",ref:g,children:[t.jsx(E,{control:s.control,name:"stat",render:({field:{value:e,onChange:m,...F}})=>t.jsxs(t.Fragment,{children:[e.length>0?t.jsx(T,{images:e,editImages:r=>{var c;m([...e].filter((u,b)=>b!==r)),(c=p.current)==null||c.click()},removeImages:r=>{m([...e].filter((c,u)=>u!==r)),S(s.getValues())},className:"pt-6 w-[300px]"}):t.jsx(t.Fragment,{}),t.jsx(D,{label:f.stat.description,className:`pt-6 ${e.length>0?" invisible w-0 h-0":"w-full"}`,children:t.jsx(V,{placeholder:f.stat.placeholder,...F,type:"file",multiple:!0,ref:p,onChange:r=>{console.log(e),m(r.target.files&&[...e,...r.target.files])}})})]})})," ",t.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[t.jsx(x,{type:"button",variant:"outline",className:"w-[200px]",onClick:a,children:"Cancel"}),t.jsx(x,{type:"submit",className:"w-[200px]",children:"Enregistrer"})]})]})})})]})};export{Y as default};
