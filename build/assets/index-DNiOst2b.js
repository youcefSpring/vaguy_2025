import{c as U}from"./createLucideIcon-BKiTtyiR.js";import{_ as S,a as K}from"./utils-Cx_fVcGQ.js";import{r as t}from"./app-lUInwgRy.js";import{b as B,a as $,c as Y}from"./index-DHkfiFuj.js";import{$ as V}from"./index-DcmApiEi.js";import{$ as z,a as H}from"./index-DeDYDX0v.js";import{$ as y}from"./index-CbDD-pNU.js";import{$ as j}from"./index-x9bG2h8o.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=U("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),C="rovingFocusGroup.onEntryFocus",q={bubbles:!1,cancelable:!0},_="RovingFocusGroup",[w,D,J]=V(_),[Q,ve]=z(_,[J]),[W,X]=Q(_),Z=t.forwardRef((e,o)=>t.createElement(w.Provider,{scope:e.__scopeRovingFocusGroup},t.createElement(w.Slot,{scope:e.__scopeRovingFocusGroup},t.createElement(ee,S({},e,{ref:o}))))),ee=t.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:c,orientation:r,loop:v=!1,dir:I,currentTabStopId:F,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:i,onEntryFocus:a,...E}=e,l=t.useRef(null),p=K(o,l),m=j(I),[f=null,u]=B({prop:F,defaultProp:g,onChange:i}),[R,s]=t.useState(!1),d=H(a),G=D(c),T=t.useRef(!1),[O,A]=t.useState(0);return t.useEffect(()=>{const n=l.current;if(n)return n.addEventListener(C,d),()=>n.removeEventListener(C,d)},[d]),t.createElement(W,{scope:c,orientation:r,dir:m,loop:v,currentTabStopId:f,onItemFocus:t.useCallback(n=>u(n),[u]),onItemShiftTab:t.useCallback(()=>s(!0),[]),onFocusableItemAdd:t.useCallback(()=>A(n=>n+1),[]),onFocusableItemRemove:t.useCallback(()=>A(n=>n-1),[])},t.createElement(y.div,S({tabIndex:R||O===0?-1:0,"data-orientation":r},E,{ref:p,style:{outline:"none",...e.style},onMouseDown:$(e.onMouseDown,()=>{T.current=!0}),onFocus:$(e.onFocus,n=>{const N=!T.current;if(n.target===n.currentTarget&&N&&!R){const h=new CustomEvent(C,q);if(n.currentTarget.dispatchEvent(h),!h.defaultPrevented){const x=G().filter(b=>b.focusable),L=x.find(b=>b.active),M=x.find(b=>b.id===f),k=[L,M,...x].filter(Boolean).map(b=>b.ref.current);P(k)}}T.current=!1}),onBlur:$(e.onBlur,()=>s(!1))})))}),te="RovingFocusGroupItem",oe=t.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:c,focusable:r=!0,active:v=!1,tabStopId:I,...F}=e,g=Y(),i=I||g,a=X(te,c),E=a.currentTabStopId===i,l=D(c),{onFocusableItemAdd:p,onFocusableItemRemove:m}=a;return t.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),t.createElement(w.ItemSlot,{scope:c,id:i,focusable:r,active:v},t.createElement(y.span,S({tabIndex:E?0:-1,"data-orientation":a.orientation},F,{ref:o,onMouseDown:$(e.onMouseDown,f=>{r?a.onItemFocus(i):f.preventDefault()}),onFocus:$(e.onFocus,()=>a.onItemFocus(i)),onKeyDown:$(e.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){a.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const u=ce(f,a.orientation,a.dir);if(u!==void 0){f.preventDefault();let s=l().filter(d=>d.focusable).map(d=>d.ref.current);if(u==="last")s.reverse();else if(u==="prev"||u==="next"){u==="prev"&&s.reverse();const d=s.indexOf(f.currentTarget);s=a.loop?fe(s,d+1):s.slice(d+1)}setTimeout(()=>P(s))}})})))}),re={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ne(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ce(e,o,c){const r=ne(e.key,c);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return re[r]}function P(e){const o=document.activeElement;for(const c of e)if(c===o||(c.focus(),document.activeElement!==o))return}function fe(e,o){return e.map((c,r)=>e[(o+r)%e.length])}const Ie=Z,Fe=oe;export{ve as $,me as C,Ie as a,Fe as b};
