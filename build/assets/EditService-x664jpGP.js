import{r as m,j as e,P as k}from"./app-lUInwgRy.js";import{F as D,a as i,b as n}from"./FormInput-DB9DkBcD.js";import{u as V}from"./useAddService-BAiNSi2d.js";import{a as t}from"./service.interface-CBIsjVQH.js";import{C as P,b as R,c as A,a as _}from"./card-DFZvYdxo.js";import{I as c}from"./input-C7csDmVJ.js";import{b as L,B as M}from"./button-DzDbuX-O.js";import{D as $}from"./DashboardInfLayout-Cms2VRLC.js";import{P as q}from"./PageTransitionLoader-DXLxdYXm.js";import{S as B}from"./SafePageWrapper-CkayXVfx.js";import{I as O}from"./InfNavigation-D_hyJJEl.js";import{I as b}from"./ImageInputSlider-kNU7chFI.js";import{A as N}from"./genral.interface-DhVVOlHY.js";import{M as w}from"./multiple-selector-BZewdskg.js";import{T as G}from"./textarea--eRPwkRH.js";/* empty css            */import"./utils-Cx_fVcGQ.js";import"./form-DTWdmFFU.js";import"./label-BGTeFzqh.js";import"./index-CbDD-pNU.js";import"./index-dIKOytT1.js";import"./money-CnQH2c1S.js";import"./tooltip-T2okiHGF.js";import"./index-DcmApiEi.js";import"./createLucideIcon-BKiTtyiR.js";import"./index-DeDYDX0v.js";import"./index-x9bG2h8o.js";import"./index-DHkfiFuj.js";import"./index-CWdjyrzl.js";import"./index-DGf6IaJB.js";import"./index-DNiOst2b.js";import"./chevron-right-DaGFS2bX.js";import"./avatar-IUyYeUaq.js";import"./consts-CgVw4MgC.js";import"./translations-DtJK5JUl.js";import"./instagram-DDsg64cs.js";import"./mail-DP18s0oF.js";import"./dashboardNavigation-BRq9JMAK.js";import"./carousel-CLqcSVz0.js";import"./square-pen-CCFS1iLF.js";import"./index-B_8yjaaa.js";import"./dialog-BWYTjd7C.js";import"./x-D5Njf_z9.js";import"./search-BbkOGfC2.js";import"./badge-Rhw34J5G.js";const $e=({pageTitle:H,price:g,categories:y,tags:p,images:h,service:d})=>{const{handleSubmit:S,inertiaForm:W,onSubmit:v,rhfForm:a,dataSetter:x}=V(d,h);console.log(h),console.log(d),console.log(p),console.log(y);const[Y,I]=m.useState(0),F=m.useRef(null);m.useEffect(()=>{g&&I(Number(g))},[]);const u=m.useRef(null),C=m.useRef(null),[E,Z]=m.useState(p.map(r=>({label:r.name,value:r.name})));return e.jsx($,{title:"Edit Service",children:e.jsx(B,{loading:!1,requiredData:[p,d],title:"Edit Service",children:e.jsx(q,{fallback:e.jsx(k,{hasTitle:!0,cardCount:2}),minLoadTime:800,children:e.jsxs("div",{className:"w-full h-full py-8",children:[e.jsxs("div",{className:"w-full mb-12",dir:"ltr",children:[e.jsx("h1",{className:"mb-4 text-4xl font-semibold ",children:" Dépôt"}),e.jsx(O,{})]}),e.jsxs(P,{className:"my-12",children:[e.jsx(R,{children:e.jsx(A,{children:"Edit Service"})}),e.jsx(_,{children:e.jsx(D,{...a,children:e.jsxs("form",{onSubmit:S(v,r=>{console.log(r)}),className:"flex flex-col w-full space-y-4",ref:F,children:[e.jsxs("div",{className:"flex flex-col w-full gap-3 md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(i,{control:a.control,name:"image",render:({field:{value:r,onChange:l,...o}})=>e.jsxs(e.Fragment,{children:[r?e.jsx(b,{images:r,editImages:()=>{var s;l(""),(s=u.current)==null||s.click()},removeImages:()=>{l("")},className:"w-[350px]",path:""}):e.jsx(e.Fragment,{}),e.jsx(n,{label:t.image.description,className:`${r?" invisible w-0 h-0":"w-1/2"}`,children:e.jsx(c,{placeholder:t.image.placeholder,...o,ref:u,type:"file",onChange:s=>{console.log(s),l(s.target.files&&s.target.files[0])},accept:N(["jpeg","png","svg"]).join(",")})})]})})," "]}),e.jsxs("div",{className:"flex flex-col w-full gap-5 md:w-1/2",children:[e.jsx(i,{control:a.control,name:"title",render:({field:r})=>e.jsx(n,{label:t.title.description,className:"w-full",children:e.jsx(c,{placeholder:t.title.placeholder,...r})})}),e.jsxs("div",{className:"flex items-center w-full gap-1",children:[e.jsx(i,{name:"price",control:a.control,render:({field:r})=>e.jsx(n,{label:t.price.description,className:"w-full mb-6",children:e.jsx(c,{type:"number",...r,onChange:l=>{r.onChange(Number(l.target.value)),x(a.getValues())},required:!0,placeholder:""+t.price.placeholder})})}),e.jsx("div",{className:`mt-2 ${L({variant:"outline"})} hover:bg-white min-w-[100px] text-primary `,children:"DZD"})]})]})]}),e.jsx(i,{control:a.control,name:"tags",render:({field:r})=>e.jsx(n,{label:t.tags.description,className:"w-full",children:e.jsx(e.Fragment,{children:e.jsx(w,{defaultValue:r.value.map(l=>({label:l,value:l})),options:E,onChange:l=>{console.log(l),r.onChange(l.map(o=>o.value)),x(a.getValues())},placeholder:t.tags.placeholder,emptyIndicator:e.jsx("p",{className:"text-lg leading-10 text-center text-gray-600 dark:text-gray-400",children:"no results found."}),creatable:!0})})})})," ",e.jsx(i,{control:a.control,name:"description",render:({field:r})=>e.jsx(n,{label:t.description.description,className:"w-full",children:e.jsx(G,{placeholder:t.description.placeholder,...r})})}),e.jsx(i,{control:a.control,name:"key_points",render:({field:r})=>e.jsx(n,{label:t.key_points.description,className:"w-full",children:e.jsx(e.Fragment,{children:e.jsx(w,{defaultValue:r.value.map(l=>({label:l,value:l})),options:[],onChange:l=>{console.log(l),r.onChange(l.map(o=>o.value)),x(a.getValues())},placeholder:t.key_points.placeholder,emptyIndicator:e.jsx("p",{className:"text-lg leading-10 text-center text-gray-600 dark:text-gray-400",children:"no results found."}),creatable:!0})})})})," ",e.jsx(i,{control:a.control,name:"images",render:({field:{value:r,onChange:l,...o}})=>e.jsxs(e.Fragment,{children:[r.length>0?e.jsx(b,{images:r,editImages:s=>{var f;l([...r].filter((j,T)=>T!==s)),(f=C.current)==null||f.click()},removeImages:s=>{l([...r].filter((f,j)=>j!==s))},className:"pt-6 w-[300px]"}):e.jsx(e.Fragment,{}),e.jsx(n,{label:t.images.description,className:`pt-6 ${r.length>0?" invisible w-0 h-0":"w-full"}`,children:e.jsx(c,{placeholder:t.images.placeholder,...o,type:"file",multiple:!0,ref:u,onChange:s=>{console.log(r),l(s.target.files&&[...r,...s.target.files])},accept:N(["*"]).join(",")})})]})})," ",e.jsx(M,{type:"submit",className:"w-full",disabled:!a.getValues().title||!a.getValues().description,children:"Enregistrer"})]})})})]})]})})})})};export{$e as default};
