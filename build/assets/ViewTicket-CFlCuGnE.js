import{r as b,j as r}from"./app-lUInwgRy.js";import{D as S}from"./DashboardLayout-Drlw7XGl.js";import{F,a as d,b as f}from"./FormInput-DB9DkBcD.js";import{r as l,A as N}from"./support.interface-DHYxiceV.js";import{C as w,b as C,c as I,a as E}from"./card-DFZvYdxo.js";import{D as y}from"./DashboardNavigation-D3-SRcFT.js";import{I as D}from"./input-C7csDmVJ.js";import{B as T}from"./button-DzDbuX-O.js";import R from"./useReplySupport-w0vKwcN-.js";import{T as V}from"./textarea--eRPwkRH.js";import{I as k}from"./ImageInputSlider-kNU7chFI.js";/* empty css            */import"./tooltip-T2okiHGF.js";import"./utils-Cx_fVcGQ.js";import"./index-DcmApiEi.js";import"./createLucideIcon-BKiTtyiR.js";import"./index-DeDYDX0v.js";import"./index-x9bG2h8o.js";import"./index-DHkfiFuj.js";import"./index-CWdjyrzl.js";import"./index-CbDD-pNU.js";import"./index-DGf6IaJB.js";import"./index-DNiOst2b.js";import"./chevron-right-DaGFS2bX.js";import"./avatar-IUyYeUaq.js";import"./consts-CgVw4MgC.js";import"./translations-DtJK5JUl.js";import"./instagram-DDsg64cs.js";import"./mail-DP18s0oF.js";import"./form-DTWdmFFU.js";import"./label-BGTeFzqh.js";import"./index-dIKOytT1.js";import"./dashboardNavigation-BRq9JMAK.js";import"./carousel-CLqcSVz0.js";import"./square-pen-CCFS1iLF.js";const ur=({pageTitle:A,messages:x,myTicket:a,user:n})=>{const{handleSubmit:h,inertiaForm:B,onSubmit:u,rhfForm:s,dataSetter:g}=R(n,String(a.ticket));console.log(a),console.log(x),console.log(n);const c=b.useRef(null);return r.jsx(S,{title:"view Support",children:r.jsxs("div",{className:"w-full h-full py-8",children:[r.jsxs("div",{className:"w-full mb-12",dir:"ltr",children:[r.jsx("h1",{className:"mb-4 text-4xl font-semibold ",children:" Support"}),r.jsx(y,{})]}),r.jsxs(w,{className:"my-12",children:[r.jsx(C,{children:r.jsxs(I,{children:[r.jsx("span",{className:"text-primary",children:`[Ticket #${a.ticket} ] `})," "+a.subject]})}),r.jsx(E,{children:r.jsx(F,{...s,children:r.jsxs("form",{onSubmit:h(u),className:"flex flex-col w-full space-y-4",children:[r.jsx(d,{control:s.control,name:"attachments",render:({field:{value:e,onChange:o,...j}})=>r.jsxs(r.Fragment,{children:[e.length>0?r.jsx(k,{images:e,editImages:t=>{var i;o([...e].filter((m,p)=>p!==t)),(i=c.current)==null||i.click()},removeImages:t=>{o([...e].filter((i,m)=>m!==t))},className:"pt-6 w-[300px] "}):r.jsx(r.Fragment,{}),r.jsx(f,{label:l.attachments.description,className:`pt-6 ${e.length>0?" invisible w-0 h-0":"w-full"}`,children:r.jsx(D,{placeholder:l.attachments.placeholder,...j,type:"file",multiple:!0,ref:c,onChange:t=>{console.log(e);const i=t.target.files?[...e,...t.target.files]:e;o(i.filter((m,p)=>p<5))},accept:N.join(",")})})]})})," ",r.jsx(d,{name:"message",control:s.control,render:({field:e})=>r.jsx(f,{label:l.message.description,className:"w-full mb-6",children:r.jsx(V,{...e,onChange:o=>{e.onChange(o.target.value),g(s.getValues())},required:!0,placeholder:""+l.message.placeholder})})}),r.jsx(T,{type:"submit",className:"",disabled:!s.getValues().message,children:"Enregistrer"})]})})})]})]})})};export{ur as default};
