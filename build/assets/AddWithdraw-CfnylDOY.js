import{r as d,j as e}from"./app-lUInwgRy.js";import{F as y,a as j,b as N,c as S}from"./FormInput-DB9DkBcD.js";import{u as C}from"./form-DTWdmFFU.js";import{a as F,b as g,c as u}from"./withdraw.interface-BW-dOKck.js";import{S as V,a as I,b as W,c as T,d as _}from"./select-1wS69xo6.js";import{C as E,b as P,c as R,a as Z}from"./card-DFZvYdxo.js";import{I as q}from"./input-C7csDmVJ.js";import{b as A,B as w}from"./button-DzDbuX-O.js";import{f as m}from"./money-CnQH2c1S.js";import{D as k,a as B,b as H,c as L,d as Y,e as $}from"./dialog-BWYTjd7C.js";import{D as z}from"./DashboardInfLayout-Cms2VRLC.js";import{I as G}from"./InfNavigation-D_hyJJEl.js";/* empty css            */import"./utils-Cx_fVcGQ.js";import"./label-BGTeFzqh.js";import"./index-CbDD-pNU.js";import"./index-dIKOytT1.js";import"./index-BEk9yI-S.js";import"./index-DHkfiFuj.js";import"./index-DeDYDX0v.js";import"./index-DcmApiEi.js";import"./createLucideIcon-BKiTtyiR.js";import"./index-x9bG2h8o.js";import"./index-CWdjyrzl.js";import"./index-DGf6IaJB.js";import"./index-B_8yjaaa.js";import"./x-D5Njf_z9.js";import"./tooltip-T2okiHGF.js";import"./index-DNiOst2b.js";import"./chevron-right-DaGFS2bX.js";import"./avatar-IUyYeUaq.js";import"./consts-CgVw4MgC.js";import"./translations-DtJK5JUl.js";import"./instagram-DDsg64cs.js";import"./mail-DP18s0oF.js";import"./dashboardNavigation-BRq9JMAK.js";const J=x=>{const{handleSubmit:l,rhfForm:i,inertiaForm:o}=C({schema:F,defaultValues:x?{...g,amount:Number(x)}:g});function f(a,n){n.post("/influencer/withdraw")}return{onSubmit:f,handleSubmit:l,rhfForm:i,inertiaForm:o,dataSetter:a=>{o.setData(a)}}},We=({pageTitle:x,withdrawMethod:l,price:i})=>{const{handleSubmit:o,inertiaForm:f,onSubmit:h,rhfForm:a,dataSetter:n}=J(i);console.log(l);const[t,v]=d.useState(l[0]),[c,p]=d.useState(0),b=d.useRef(null);return d.useEffect(()=>{i&&p(Number(i))},[]),e.jsx(z,{title:"add Withdraw",children:e.jsxs("div",{className:"w-full h-full py-8",children:[e.jsxs("div",{className:"w-full mb-12",dir:"ltr",children:[e.jsx("h1",{className:"mb-4 text-4xl font-semibold ",children:" Dépôt"}),e.jsx(G,{})]}),e.jsxs(E,{className:"my-12",children:[e.jsx(P,{children:e.jsx(R,{children:"Retrait"})}),e.jsx(Z,{children:e.jsx(y,{...a,children:e.jsxs("form",{onSubmit:o(h),className:"flex flex-col w-full space-y-4",ref:b,children:[e.jsx(j,{name:"gateway",control:a.control,render:({field:r})=>e.jsx(N,{label:u.gateway.description,className:"w-full mb-6",content:e.jsxs(V,{onValueChange:s=>{r.onChange(s),n(a.getValues()),v(l.find(D=>D.id===Number(s)))},defaultValue:"",children:[e.jsx(S,{children:e.jsx(I,{children:e.jsx(W,{placeholder:u.gateway.placeholder})})}),e.jsx(T,{children:l.map(s=>e.jsx(_,{value:""+s.id,children:s.name},s.name))})]}),children:e.jsx(e.Fragment,{children:"No Data"})})}),e.jsxs("div",{className:"flex items-center w-full gap-1",children:[e.jsx(j,{name:"amount",control:a.control,render:({field:r})=>e.jsx(N,{label:u.amount.description,className:"w-full mb-6",children:e.jsx(q,{type:"number",...r,disabled:!a.getValues().gateway||!Number.isNaN(Number(i)),onChange:s=>{r.onChange(Number(s.target.value)),n(a.getValues()),p(Number(s.target.value))},required:!0,placeholder:""+u.amount.placeholder})})}),e.jsx("div",{className:`mt-2 ${A({variant:"outline"})} hover:bg-white min-w-[100px] text-primary `,children:"DZD"})]}),c&&t?e.jsxs("div",{className:"flex flex-col w-full gap-2",children:[e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Maximum"}),e.jsxs("div",{className:"text-sm",children:[m(Number(t.min_limit)),"-",m(Number(t.max_limit))]})]})}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Prix demandé"}),e.jsx("div",{className:"text-sm",children:m(Number(t.fixed_charge))})]})}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"payable"}),e.jsx("div",{className:"text-sm",children:m(Number(c+Number(t.fixed_charge)))})]})})]}):e.jsx(e.Fragment,{}),e.jsxs(k,{children:[e.jsx(B,{className:"w-full",children:e.jsx(w,{type:"button",className:"w-full",disabled:!a.getValues().amount||!a.getValues().gateway,children:"Enregistrer"})}),e.jsxs(H,{children:[e.jsxs(L,{children:[e.jsxs(Y,{children:["You have requested"," ",m(c),"DZD , Please pay"," ",m(Number(c+Number(t==null?void 0:t.fixed_charge)))," ","DZD"]}),e.jsx($,{children:"for successful payment Please follow the instruction below"})]}),e.jsx(w,{type:"button",className:"",disabled:!a.getValues().amount||!a.getValues().gateway,onClick:()=>{const r=b.current;r&&r.requestSubmit()},children:"Confirm"})]})]})]})})})]})]})})};export{We as default};
