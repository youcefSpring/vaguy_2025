import{j as e,y as d,P as T,r as N}from"./app-lUInwgRy.js";import{P as k}from"./PageTransitionLoader-DXLxdYXm.js";import{S as $}from"./SafePageWrapper-CkayXVfx.js";import{s as I}from"./safeUtils-xymjWBta.js";import{D as L}from"./DashboardLayout-Drlw7XGl.js";import{D as x,P,a as M}from"./DataTableColumnHeader-CvBaeazw.js";import{B as n}from"./button-DzDbuX-O.js";import{a as u,b as g}from"./date-cSGFDods.js";import{B as i}from"./badge-Rhw34J5G.js";import{D as O,a as z,b as A}from"./drawer-C4B-pLKY.js";import{C as o,b as h,a as m,c,e as w,d as v}from"./card-DFZvYdxo.js";import{S as b,a as y}from"./scroll-area-Cz3DdDO6.js";import{S as J,a as R,b as F,c as q,d as B}from"./sheet-BB4HANrJ.js";import{S as t}from"./separator-CTdIgbxY.js";import{I as E}from"./ImageInputSlider-kNU7chFI.js";import{D as H,a as W,b as K,c as G,d as V,e as U,f as X}from"./dialog-BWYTjd7C.js";import{L as Z}from"./label-BGTeFzqh.js";import{z as Q}from"./index-dIKOytT1.js";import{T as Y}from"./textarea--eRPwkRH.js";import{u as ee}from"./translations-DtJK5JUl.js";import{X as _}from"./x-D5Njf_z9.js";import{S as se}from"./square-pen-CCFS1iLF.js";import{E as ae}from"./eye-D-efa7vg.js";import{M as le}from"./tooltip-T2okiHGF.js";import{C}from"./index-DcmApiEi.js";import{F as re}from"./file-BPGPrkov.js";import{c as ie}from"./createLucideIcon-BKiTtyiR.js";/* empty css            */import"./utils-Cx_fVcGQ.js";import"./table-CTwoGOSK.js";import"./input-C7csDmVJ.js";import"./select-1wS69xo6.js";import"./index-BEk9yI-S.js";import"./index-DHkfiFuj.js";import"./index-DeDYDX0v.js";import"./index-x9bG2h8o.js";import"./index-CWdjyrzl.js";import"./index-CbDD-pNU.js";import"./index-DGf6IaJB.js";import"./chevron-right-DaGFS2bX.js";import"./index-DNiOst2b.js";import"./format-B0DXPM4f.js";import"./index-B_8yjaaa.js";import"./carousel-CLqcSVz0.js";import"./avatar-IUyYeUaq.js";import"./consts-CgVw4MgC.js";import"./instagram-DDsg64cs.js";import"./mail-DP18s0oF.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=ie("MessageCircleWarning",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),S=s=>[{accessorKey:"campain_name",header:({column:a})=>e.jsx(x,{column:a,title:s("campaign_name")})},{accessorKey:"campain_objective",header:({column:a})=>e.jsx(x,{column:a,title:s("campaign_objective")}),cell:({row:a})=>{const l=a.original;return e.jsx("div",{children:e.jsx("strong",{children:l.campain_objective})})}},{accessorKey:"campain_start_date",header:({column:a})=>e.jsx(x,{column:a,title:s("campaign_start_date")}),cell:({row:a})=>{const l=a.getValue("campain_start_date");return e.jsx("div",{className:"flex flex-col",children:e.jsxs("span",{children:[u(l)," ",g(l)]})})}},{accessorKey:"campain_end_date",header:({column:a})=>e.jsx(x,{column:a,title:s("campaign_end_date")}),cell:({row:a})=>{const l=a.getValue("campain_end_date");return e.jsx("div",{className:"flex flex-col",children:e.jsxs("span",{children:[u(l)," ",g(l)]})})}},{id:"actions",header:({column:a})=>e.jsx(x,{column:a,title:s("actions")}),cell:({row:a})=>{const l=a.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",size:"icon",className:"hover:bg-red-500 hover:duration-75",onClick:()=>{d.get("/client/delete-campaign/"+l.id,{})},children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx(n,{variant:"outline",size:"icon",className:"hover:bg-green-300 hover:duration-75",onClick:()=>{d.visit("/client/edit-campaign/"+l.id)},children:e.jsx(se,{className:"w-4 h-4"})}),e.jsxs(J,{children:[e.jsx(R,{children:e.jsx(n,{variant:"outline",size:"icon",className:"hover:bg-primary-foreground hover:duration-75",children:e.jsx(ae,{className:"w-4 h-4"})})}),e.jsx(F,{className:"p-0 md:min-w-[50vw] min-w-[100vw] ",children:e.jsxs(b,{className:"h-[100vh] p-6",children:[e.jsx(ce,{data:l}),e.jsx(y,{orientation:"vertical"})]})})]}),l.campain_offers.length>0?e.jsxs(O,{children:[e.jsx(z,{children:e.jsx(i,{variant:"outline",className:"p-3 bg-primary-foreground",children:l.campain_offers.length})}),e.jsxs(A,{children:[e.jsx("h2",{className:"px-6 text-2xl ",children:"Liste des offres :"}),e.jsxs(b,{children:[e.jsx("div",{className:"flex gap-6 px-6 py-6",children:l.campain_offers.map(r=>{var j,f;return e.jsxs(o,{className:"h-[300px] w-[450px]  flex flex-col",children:[e.jsx(h,{className:"flex flex-row items-center justify-end p-2",children:e.jsxs("div",{className:"flex flex-row items-center justify-end p-0",children:[e.jsx(n,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-primary-foreground hover:duration-75",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-primary-foreground hover:duration-75",children:e.jsx(P,{className:"w-4 h-4"})})]})}),e.jsxs(m,{className:"flex-1",children:[e.jsx(c,{children:((j=r.influencer)==null?void 0:j.firstname)+"  "+((f=r.influencer)==null?void 0:f.lastname)}),e.jsxs("div",{className:"mt-6 mb-auto",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"price :"}),e.jsx("p",{className:"",children:r.price})]}),e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"status :"}),e.jsx("p",{className:"",children:r.status_name})]})]})]}),r.status===2?e.jsxs(w,{className:"flex flex-row items-center gap-4 p-4",children:[e.jsxs(n,{type:"button",onClick:()=>{d.post(`/client/change-offer-status/${r.id}/1`,{})},variant:"ghost",className:" bg-primary-foreground text-black hover:bg-green-500 hover:text-white",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Accept"]}),e.jsxs(n,{type:"button",onClick:()=>{d.post(`/client/change-offer-status/${r.id}/0`,{})},variant:"ghost",className:"bg-white border-1 text-primary border-primary-foreground hover:bg-red-500 hover:border-none hover:text-white",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Refusé"]})]}):r.status===4?e.jsxs(w,{className:"flex flex-row items-center gap-4 p-4",children:[e.jsxs("a",{href:`/client/download-influencer-file/${r.id}`,download:`offer_${r.id}.zip`,className:"bg-primary-foreground text-black hover:bg-green-500 hover:text-white flex items-center px-4 py-2 rounded-md",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Télécharger Résultat"]}),e.jsx(te,{offer:r}),e.jsxs(n,{type:"button",onClick:()=>{d.post(`/client/change-offer-status/${r.id}/5`,{})},variant:"ghost",className:"bg-white border-1 text-green-500 border-primary-foreground hover:bg-green-500 hover:border-none hover:text-white",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"complète"]})]}):e.jsx(e.Fragment,{})]},r.id)})}),e.jsx(y,{orientation:"horizontal"})]})]})]}):e.jsx(i,{variant:"outline",className:"p-3 bg-primary-foreground",children:l.campain_offers.length})]})}}],ls=S(s=>s),rs=({campains:s})=>{const{t:a,currentLang:l}=ee(),r={data:I(s==null?void 0:s.data,[]),meta:(s==null?void 0:s.meta)||{},links:(s==null?void 0:s.links)||{},current_page:(s==null?void 0:s.current_page)||1,per_page:(s==null?void 0:s.per_page)||10,total:(s==null?void 0:s.total)||0};return e.jsx(L,{title:a("campaigns"),children:e.jsx($,{loading:!1,requiredData:[s],title:"Campaigns",children:e.jsx(k,{fallback:e.jsx(T,{hasTitle:!0,hasNavigation:!0,cardCount:2,hasTable:!1}),minLoadTime:200,children:e.jsxs("div",{className:`w-full h-full py-8 ${l==="ar"?"dir-rtl":"dir-ltr"}`,children:[e.jsx("div",{className:"w-full mb-12",children:e.jsx("h1",{className:"mb-4 text-4xl font-semibold",children:a("campaigns")})}),e.jsx(M,{columns:S(a),data:r.data,search:"campain_name",pagination:r})]})})})})};function te({offer:s}){const[a,l]=N.useState(""),[r,j]=N.useState(""),f=p=>l(String(p.target.value)),D=()=>{Q.string().safeParse(a).success?d.post(`/client/change-offer-status/${s.id}/6`,{reason:a}):j("the reason shoud be a string")};return e.jsxs(H,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"bg-white border-1 text-primary border-primary-foreground hover:bg-red-500 hover:border-none hover:text-white",children:[e.jsx(ne,{className:"w-4 h-4"}),"Report"]})}),e.jsxs(K,{className:"sm:max-w-[425px]",children:[e.jsxs(G,{children:[e.jsx(V,{children:"Submit your Reason"}),e.jsx(U,{children:"Tell us what is the issues you having"})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"flex flex-col items-start justify-start grid-cols-4 gap-4",children:[e.jsx(Z,{htmlFor:"reason",className:"text-right",children:"Reason"}),e.jsx(Y,{id:"reason",className:"w-full",value:a,onChange:f}),r?e.jsx("span",{children:r}):e.jsx(e.Fragment,{})]})}),e.jsx(X,{children:e.jsx(n,{type:"submit",onClick:D,children:"Save changes"})})]})]})}const ce=({data:s})=>e.jsxs(o,{className:"w-full",children:[e.jsx(h,{children:e.jsx(c,{children:e.jsx(q,{className:"p-6",children:e.jsx(B,{className:"md:text-3xl text-xl",children:"Détails de la campagne"})})})}),e.jsxs(m,{className:"w-full",children:[e.jsxs(o,{className:"flex w-full mb-6",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(h,{className:"flex-row w-full gap-3",children:e.jsx(c,{children:"Company info : "})}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex flex-row w-full gap-3",children:[e.jsx("img",{src:"/"+s.company_logo,className:"object-cover w-20 h-20 rounded-full",alt:"name"}),e.jsxs("div",{children:[e.jsx(c,{className:"pb-2",children:e.jsx("span",{children:s.company_name})}),e.jsx(v,{children:s.company_desc})]})]}),e.jsx(t,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"la catégorie principale"}),e.jsx("div",{className:"text-sm",children:e.jsx(i,{children:s.company_principal_category})})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"URL du site web de l'entreprise"}),e.jsx("div",{className:"text-sm",children:e.jsx(i,{children:s.company_web_url})})]})})," "]})]}),e.jsx("img",{src:"/"+s.company_principal_image,alt:"",className:"w-1/2 aspect-square rounded-tr-md rounded-br-md"})]}),e.jsxs(o,{className:"flex w-full mb-6",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(h,{className:"flex-row w-full gap-3",children:e.jsx(c,{children:"Campagne info : "})}),e.jsxs(m,{children:[e.jsx("div",{className:"flex flex-row w-full gap-3",children:e.jsxs("div",{children:[e.jsx(c,{className:"pb-2",children:e.jsx("span",{children:s.campain_name})}),e.jsx(v,{children:s.campain_objective})]})}),e.jsx(t,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Détails de la campagne"}),e.jsx("div",{className:"text-sm",children:e.jsxs(i,{children:[" ",s.campain_details]})})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Ce que la campagne souhaite"}),e.jsx("div",{className:"text-sm",children:e.jsx(i,{children:s.campain_want})})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Contenu"}),e.jsx("div",{className:"text-sm",children:e.jsx(i,{children:s.campain_social_media_content})})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Plateforme ciblé"}),e.jsx("div",{className:"flex items-center gap-2",children:(()=>{try{return JSON.parse(s.campain_social_media||"[]").map((l,r)=>e.jsx(i,{children:l},r))}catch{return e.jsx(i,{children:"Invalid Data"})}})()})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"fais ça"}),e.jsx("div",{className:"text-sm"})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"ne fais pas ça"}),e.jsx("div",{className:"text-sm"})]})})," ",e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs(i,{children:[u(String(s.campain_start_date))," ==> ",u(String(s.campain_end_date))]})})]})]}),e.jsx(E,{images:JSON.parse(s.campain_photos_required||"[]"),className:"w-1/2",path:"/"})]}),e.jsxs(o,{className:"flex w-full mb-6",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(h,{className:"flex-row w-full gap-3",children:e.jsx(c,{children:"Informations sur l'influenceur :"})}),e.jsxs(m,{children:[e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"d'âge de l'influenceur"}),e.jsx("div",{className:"text-sm",children:e.jsxs(i,{children:[JSON.parse(s.influencer_age_range||"[]").find((a,l)=>l==0)," ==> ",JSON.parse(s.influencer_age_range||"[]").find((a,l)=>l==1)]})})]})}),e.jsx(t,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Catégorie de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:e.jsx(i,{children:s.influencer_category})})]})}),e.jsx(t,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Genre de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:e.jsx(i,{children:s.influencer_gender})})]})}),e.jsx(t,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Wilaya de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:Array.isArray(JSON.parse(s.influencer_wilaya||"[]"))?JSON.parse(s.influencer_wilaya||"[]").map((a,l)=>e.jsx(i,{children:a},l)):e.jsx(i,{children:"Invalid Data"})})]})}),e.jsx(t,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Intérêts de l'influenceur"}),e.jsx("div",{className:"text-sm",children:e.jsx(i,{children:s.influencer_interests})})]})})]})]}),e.jsxs(m,{className:"w-1/2 pt-20",children:[e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Genre public de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:e.jsx(i,{children:s.influencer_public_gender})})]})}),e.jsx(t,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Âge public de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:e.jsx(i,{children:s.influencer_public_age})})]})}),e.jsx(t,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Wilaya publique de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:Array.isArray(JSON.parse(s.influencer_public_wilaya||"[]"))?JSON.parse(s.influencer_public_wilaya||"[]").map((a,l)=>e.jsx(i,{children:a},l)):e.jsx(i,{children:"Invalid Data"})})]})}),e.jsx(t,{className:"my-4"})]})]})]})]});export{ls as columns,S as createColumns,rs as default};
