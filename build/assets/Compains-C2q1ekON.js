import{j as e,y as w,P as z,r as j}from"./app-lUInwgRy.js";import{P as B}from"./PageTransitionLoader-DXLxdYXm.js";import{D as o,a as K}from"./DataTableColumnHeader-CvBaeazw.js";import{B as d}from"./button-DzDbuX-O.js";import{a as v,b as C}from"./date-cSGFDods.js";import{B as n}from"./badge-Rhw34J5G.js";import{S as O,a as W}from"./scroll-area-Cz3DdDO6.js";import{S as A,a as G,b as J,c as V,d as M}from"./sheet-BB4HANrJ.js";import{S as m}from"./separator-CTdIgbxY.js";import{P as Q,a as X,b as Y}from"./popover-MZTlBUm8.js";import{D as P,a as T,b as k,c as I,d as L,e as R,f as q}from"./dialog-BWYTjd7C.js";import{I as F}from"./input-C7csDmVJ.js";import{L as Z}from"./label-BGTeFzqh.js";import{f as ee}from"./money-CnQH2c1S.js";import{z as H}from"./index-dIKOytT1.js";import{D as se}from"./DashboardInfLayout-Cms2VRLC.js";import{I as ae}from"./InfNavigation-D_hyJJEl.js";import"./campain.interface-D7tnG7AQ.js";import{C as p,a as u,b as _,c as f,d as S}from"./card-DFZvYdxo.js";import{I as $}from"./ImageInputSlider-kNU7chFI.js";import{s as h,b as g}from"./safeUtils-xymjWBta.js";import{S as le}from"./SafePageWrapper-CkayXVfx.js";import{u as ie}from"./translations-DtJK5JUl.js";import{D as re}from"./tooltip-T2okiHGF.js";import{C as D}from"./index-DcmApiEi.js";import{E as ne}from"./eye-D-efa7vg.js";import{S as te}from"./square-pen-CCFS1iLF.js";import{F as ce}from"./file-BPGPrkov.js";/* empty css            */import"./table-CTwoGOSK.js";import"./utils-Cx_fVcGQ.js";import"./select-1wS69xo6.js";import"./index-BEk9yI-S.js";import"./index-DHkfiFuj.js";import"./index-DeDYDX0v.js";import"./index-x9bG2h8o.js";import"./index-CWdjyrzl.js";import"./index-CbDD-pNU.js";import"./index-DGf6IaJB.js";import"./createLucideIcon-BKiTtyiR.js";import"./chevron-right-DaGFS2bX.js";import"./index-DNiOst2b.js";import"./format-B0DXPM4f.js";import"./index-B_8yjaaa.js";import"./x-D5Njf_z9.js";import"./dashboardNavigation-BRq9JMAK.js";import"./carousel-CLqcSVz0.js";import"./avatar-IUyYeUaq.js";import"./consts-CgVw4MgC.js";import"./instagram-DDsg64cs.js";import"./mail-DP18s0oF.js";const me=({form:a,categories:r})=>{var l;const s={...a,campain_start_date:a.campain_date.from,campain_end_date:a.campain_date.to};return e.jsx(p,{className:"w-full",children:e.jsxs(u,{className:"w-full pt-3",children:[e.jsxs(p,{className:"flex w-full mb-6",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(_,{className:"flex-row w-full gap-3",children:e.jsx(f,{children:"Company info : "})}),e.jsxs(u,{children:[e.jsxs("div",{className:"flex flex-row w-full gap-3",children:[e.jsx("img",{src:s.company_logo instanceof File?URL.createObjectURL(s.company_logo):"/"+s.company_logo,className:"object-cover w-20 h-20 rounded-full",alt:"name"}),e.jsxs("div",{children:[e.jsx(f,{className:"pb-2",children:e.jsx("span",{children:s.company_name})}),e.jsx(S,{children:s.company_desc})]})]}),e.jsx(m,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"la catégorie principale"}),e.jsxs("div",{className:"text-sm",children:[(l=r.find(i=>i.id===Number(s.company_principal_category)))==null?void 0:l.name,"."]})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"URL du site web de l'entreprise"}),e.jsx("div",{className:"text-sm",children:s.company_web_url})]})})," "]})]}),e.jsx("img",{src:s.company_principal_image instanceof File?URL.createObjectURL(s.company_principal_image):"/"+s.company_principal_image,alt:"",className:"w-1/2 aspect-square rounded-tr-md rounded-br-md"})]}),e.jsxs(p,{className:"flex w-full mb-6",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(_,{className:"flex-row w-full gap-3",children:e.jsx(f,{children:"Campagne info : "})}),e.jsxs(u,{children:[e.jsx("div",{className:"flex flex-row w-full gap-3",children:e.jsxs("div",{children:[e.jsx(f,{className:"pb-2",children:e.jsx("span",{children:s.campain_name})}),e.jsx(S,{children:s.campain_objective})]})}),e.jsx(m,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Détails de la campagne"}),e.jsxs("div",{className:"text-sm",children:[s.campain_details,"."]})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Ce que la campagne souhaite"}),e.jsx("div",{className:"text-sm",children:s.campain_want})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Contenu"}),e.jsxs("div",{className:"text-sm",children:[s.campain_social_media_content,"."]})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Plateforme ciblé"}),e.jsx("div",{className:"flex items-center gap-2",children:s.campain_social_media.map(i=>e.jsx(n,{children:i}))})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"fais ça"}),e.jsxs("div",{className:"text-sm",children:[s.do_this,"."]})]})})," ",e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"ne fais pas ça"}),e.jsx("div",{className:"text-sm",children:s.dont_do_this})]})})," ",e.jsxs("div",{className:"flex items-center justify-center w-full",children:[v(String(s.campain_date.from)),"==>",v(String(s.campain_date.to))]})]})]}),e.jsx($,{images:s.campain_photos_required,className:"w-1/2",path:"/"})]}),e.jsxs(p,{className:"flex w-full mb-6",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(_,{className:"flex-row w-full gap-3",children:e.jsx(f,{children:"Informations sur l'influenceur :"})}),e.jsxs(u,{children:[e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"d'âge de l'influenceur"}),e.jsxs("div",{className:"text-sm",children:[s.influencer_age_range_start,"==>",s.influencer_age_range_end]})]})}),e.jsx(m,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Catégorie de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:e.jsx(n,{children:s.influencer_category})})]})}),e.jsx(m,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Genre de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:e.jsx(n,{children:s.influencer_gender})})]})}),e.jsx(m,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Wilaya de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:s.influencer_wilaya.map(i=>e.jsx(n,{children:i}))})]})}),e.jsx(m,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Intérêts de l'influenceur"}),e.jsx("div",{className:"text-sm",children:s.influencer_interests})]})})]})]}),e.jsxs(u,{className:"w-1/2 pt-20",children:[e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Genre public de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:e.jsx(n,{children:s.influencer_public_gender})})]})}),e.jsx(m,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Âge public de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:e.jsx(n,{children:s.influencer_public_age})})]})}),e.jsx(m,{className:"my-4"}),e.jsx("div",{className:"w-full mb-6",children:e.jsxs("div",{className:"flex flex-row items-center justify-between w-full ",children:[e.jsx("div",{className:"text-base",children:"Wilaya publique de l'influenceur"}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-1/2",children:s.influencer_public_wilaya.map(i=>e.jsx(n,{children:i}))})]})}),e.jsx(m,{className:"my-4"})]})]})]})})},E=(a,r)=>[{accessorKey:"campain_name",header:({column:s})=>e.jsx(o,{column:s,title:a("campaign_name")})},{accessorKey:"campain_objective",header:({column:s})=>e.jsx(o,{column:s,title:a("campaign_objective")}),cell:({row:s})=>{const l=s.original;return e.jsx("div",{children:e.jsx("strong",{children:l.campain_objective})})}},{accessorKey:"campain_date",header:({column:s})=>e.jsx(o,{column:s,title:a("campaign_date")}),cell:({row:s})=>{const l=s.original,i=String(l.campain_start_date),t=String(l.campain_end_date);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsxs("strong",{children:[a("start"),":"]})," ",e.jsxs("span",{children:[" ",v(i)," ",C(i)]})]}),e.jsxs("div",{children:[e.jsxs("strong",{children:[a("end"),":"]})," ",e.jsxs("span",{children:[v(t)," ",C(t)]})]})]})}},{accessorKey:"status",header:({column:s})=>e.jsx(o,{column:s,title:a("status")}),cell:({row:s})=>{const l=s.original.campain_offers[0];return e.jsx(de,{status:l?String(l.status_name):"/"})}},{accessorKey:"campain_details",header:({column:s})=>e.jsx(o,{column:s,title:a("campaign_details")}),cell:({row:s})=>{const l=s.original;return e.jsx("div",{children:e.jsx("strong",{children:l.campain_details})})}},{id:"actions",header:({column:s})=>e.jsx(o,{column:s,title:a("actions")}),cell:({row:s})=>{const l=s.original,i=l.campain_offers.find(t=>t.influencer_id===r.id);return e.jsxs("div",{className:"flex gap-2",children:[i?e.jsxs(Q,{children:[e.jsxs(X,{children:[" ",e.jsx(d,{variant:"outline",size:"icon",className:"hover:bg-green-300 hover:duration-75",onClick:()=>{},children:e.jsx(re,{className:"w-4 h-4"})})]}),e.jsxs(Y,{children:["Votre offre pour cette campagne est:"," ",ee(Number(i.price))]})]}):e.jsx(oe,{campain:l}),(i==null?void 0:i.status)===1?e.jsxs(d,{type:"button",onClick:()=>{w.post(`/influencer/campains/change-offer-status/${i.id}/3`,{})},variant:"ghost",className:" bg-primary-foreground text-black hover:bg-green-500 hover:text-white",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"confirmer"]}):(i==null?void 0:i.status)===3?e.jsxs(d,{type:"button",onClick:()=>{w.post(`/influencer/campains/change-offer-status/${i.id}/4`,{})},variant:"ghost",className:" bg-primary-foreground text-black hover:bg-green-500 hover:text-white",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Job done"]}):(i==null?void 0:i.status)===4?e.jsx(xe,{campain:l}):e.jsx(e.Fragment,{}),e.jsxs(A,{children:[e.jsx(G,{children:e.jsx(d,{variant:"outline",size:"icon",className:"hover:bg-primary-foreground hover:duration-75",children:e.jsx(ne,{className:"w-4 h-4"})})}),e.jsxs(J,{className:"p-0 md:min-w-[60vw] min-w-[100vw] ",children:[e.jsx(V,{className:"p-6",children:e.jsx(M,{children:"Détails de la campagne"})}),e.jsxs(O,{className:"h-[100vh] p-6",children:[e.jsx("div",{className:"flex flex-col justify-start w-full gap-2 pb-12 ",children:e.jsx(me,{form:{...l,campain_date:{from:new Date(String(l.campain_start_date)),to:new Date(String(l.campain_end_date))},influencer_wilaya:h(g(l.influencer_wilaya,[l.influencer_wilaya]),[l.influencer_wilaya]),influencer_public_wilaya:h(g(l.influencer_public_wilaya,[l.influencer_public_wilaya]),[l.influencer_public_wilaya]),campain_photos_required:h(g(l.campain_photos_required,[l.campain_photos_required]),[l.campain_photos_required]),campain_social_media:h(g(l.campain_social_media,[]),[])},categories:[]})}),e.jsx(W,{orientation:"vertical"})]})]})]})]})}}],ds=a=>E(r=>r,a),os=({campains:a,influencer:r})=>{console.log(a);const{t:s,currentLang:l}=ie(),i={data:h(a==null?void 0:a.data,[]),meta:(a==null?void 0:a.meta)||{},links:(a==null?void 0:a.links)||{},current_page:(a==null?void 0:a.current_page)||1,per_page:(a==null?void 0:a.per_page)||10,total:(a==null?void 0:a.total)||0};return e.jsx(se,{title:s("campaigns"),children:e.jsx(le,{loading:!1,requiredData:[a,r],title:"Campaigns",children:e.jsx(B,{fallback:e.jsx(z,{hasTitle:!0,hasNavigation:!0,cardCount:2,hasTable:!1}),minLoadTime:800,children:e.jsxs("div",{className:`w-full h-full py-8 ${l==="ar"?"dir-rtl":"dir-ltr"}`,children:[e.jsxs("div",{className:"w-full mb-12",children:[e.jsx("h1",{className:"mb-4 text-4xl font-semibold",children:s("campaigns")}),e.jsx(ae,{})]}),e.jsx(K,{columns:E(s,r),data:i.data,search:"campain_name",pagination:i})]})})})})},de=({status:a})=>{if(console.log(),Number.isNaN(Number(a)))return e.jsx(n,{variant:"outline",children:a});switch(a){case 1:return e.jsx(n,{variant:"outline",children:"Completed"});case 2:return e.jsx(n,{variant:"outline",children:"In Progress"});case 3:return e.jsx(n,{variant:"outline",children:"Delivered"});case 4:return e.jsx(n,{variant:"outline",children:"Reported"});case 5:return e.jsx(n,{variant:"outline",children:"Cancelled"});case 6:return e.jsx(n,{variant:"outline",children:"Rejected"});default:return e.jsx(n,{variant:"outline",children:"Pending"})}};function oe({campain:a}){const[r,s]=j.useState(0),[l,i]=j.useState(""),t=x=>s(Number(x.target.value)),N=()=>{H.number().safeParse(r).success?w.post("/influencer/campains/inf_offer",{campain_id:a.id,offer:r}):i("the price shoud be a number")};return e.jsxs(P,{children:[e.jsx(T,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"icon",className:"hover:bg-green-300 hover:duration-75",children:e.jsx(te,{className:"w-4 h-4"})})}),e.jsxs(k,{className:"sm:max-w-[425px]",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Submit your Offer"}),e.jsx(R,{children:"Provide the price you propose for this campain"})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid items-center grid-cols-4 gap-4",children:[e.jsx(Z,{htmlFor:"price",className:"text-right",children:"Price"}),e.jsx(F,{id:"price",className:"col-span-3",type:"number",value:r,onChange:t}),l?e.jsx("span",{children:l}):e.jsx(e.Fragment,{})]})}),e.jsx(q,{children:e.jsx(d,{type:"submit",onClick:N,children:"Save changes"})})]})]})}function xe({campain:a}){const[r,s]=j.useState([]),[l,i]=j.useState(""),t=c=>s(c),N=()=>{H.any().array().safeParse(r).success?w.post(`/influencer/campains/upload_result/${a.campain_offers[0].id}`,{campain_result_files:r}):i("the files shoud be a number")},x=j.useRef(null);return e.jsxs(P,{children:[e.jsx(T,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"icon",className:"hover:bg-green-300 hover:duration-75",children:e.jsx(ce,{className:"w-4 h-4"})})}),e.jsxs(k,{className:"sm:max-w-[500px]",children:[e.jsxs(I,{children:[e.jsx(L,{children:"Submit your result files"}),e.jsx(R,{children:"Provide the files you propose for this campain"})]}),e.jsx("div",{className:"grid w-full gap-4 py-4 ",children:e.jsxs("div",{className:"flex items-center justify-center w-full grid-cols-4 gap-4 ",children:[r.length>0?e.jsx($,{images:r,editImages:c=>{var b;t([...r].filter((y,U)=>U!==c)),(b=x.current)==null||b.click()},removeImages:c=>{t([...r].filter((b,y)=>y!==c))},className:"pt-6 w-[300px] my-auto "}):e.jsx(F,{placeholder:"upload files",type:"file",multiple:!0,ref:x,className:"flex-1 ",onChange:c=>{console.log(r),t(c.target.files&&[...r,...c.target.files])}}),l?e.jsx("span",{children:l}):e.jsx(e.Fragment,{})]})}),e.jsx(q,{children:e.jsx(d,{type:"submit",onClick:N,children:"Save changes"})})]})]})}export{ds as columns,E as createColumns,os as default};
